{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd in more tests for the utilities. (#1349)\n\n* Add in more tests for the utilities.\r\n\r\nSigned-off-by: Chris Lalancette <clalancette@openrobotics.org>\n\nDiff:\n+#include <chrono>\n+#include <functional>\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd tests for rcl package (#668)\n\nDiff:\n+rcl_add_custom_gtest(test_domain_id\n+  SRCS rcl/test_domain_id.cpp\n+  APPEND_LIBRARY_DIRS ${extra_lib_dirs}\n+  LIBRARIES ${PROJECT_NAME}\n+)\n+\n+rcl_add_custom_gtest(test_localhost\n+  SRCS rcl/test_localhost.cpp\n+  APPEND_LIBRARY_DIRS ${extra_lib_dirs}\n+  LIBRARIES ${PROJECT_NAME}\n+)\n+\n+rcl_add_custom_gtest(test_common\n+  SRCS rcl/test_common.cpp ${CMAKE_CURRENT_SOURCE_DIR}/../src/rcl/common.c\n+  APPEND_LIBRARY_DIRS ${extra_lib_dirs}\n+  INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/../src/rcl/\n+  LIBRARIES ${PROJECT_NAME}\n+)\n+\n-/* Basic nominal test of a client.\n+/* Basic nominal test of a client. Complete functionality tested at test_service.cpp\n+  // Test access to client options\n+  const rcl_client_options_t * client_internal_options = rcl_client_get_options(&client);\n+  EXPECT_TRUE(rcutils_allocator_is_valid(&(client_internal_options->allocator)));\n+  EXPECT_EQ(rmw_qos_profile_services_default.reliability, client_internal_options->qos.reliability);\n... [truncated] ...\n+  rcl_allocator_t allocator_returned;\n+  rcl_wait_set_t wait_set = rcl_get_zero_initialized_wait_set();\n+\n+  EXPECT_EQ(\n+    RCL_RET_INVALID_ARGUMENT,\n+    rcl_wait_set_get_allocator(nullptr, &allocator_returned)) << rcl_get_error_string().str;\n+  rcl_reset_error();\n+  EXPECT_EQ(\n+    RCL_RET_WAIT_SET_INVALID,\n+    rcl_wait_set_get_allocator(&wait_set, &allocator_returned)) << rcl_get_error_string().str;\n+  rcl_reset_error();\n+\n+  rcl_ret_t ret =\n+    rcl_wait_set_init(&wait_set, 1, 1, 1, 1, 1, 0, context_ptr, rcl_get_default_allocator());\n+  EXPECT_EQ(RCL_RET_OK, ret) << rcl_get_error_string().str;\n+  EXPECT_EQ(\n+    RCL_RET_INVALID_ARGUMENT,\n+    rcl_wait_set_get_allocator(&wait_set, nullptr)) << rcl_get_error_string().str;\n+  rcl_reset_error();\n+  EXPECT_EQ(RCL_RET_OK, rcl_wait_set_get_allocator(&wait_set, &allocator_returned));\n+  EXPECT_TRUE(rcutils_allocator_is_valid(&allocator_returned));\n+\n+  ret = rcl_wait_set_fini(&wait_set);\n+  EXPECT_EQ(RCL_RET_OK, ret) << rcl_get_error_string().str;\n+}\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nDuplicated code RobotJoint (#702)\n\nDiff:\n+#include \"rviz_default_plugins/robot/robot_link.hpp\"\n-    bool recursive) const;              // True: all descendant links.\n+    bool recursive);              // True: all descendant links.\n+  RobotLink * links_checked_and_unchecked(\n+    int & links_with_geom_checked,\n+    int & links_with_geom_unchecked);\n+  int links_with_geom(\n+    RobotLink * link, int & links_with_geom_checked,\n+    int & links_with_geom_unchecked, int n_args, ...);\n+\n-#include \"rviz_default_plugins/robot/robot_link.hpp\"\n+int RobotJoint::links_with_geom(\n+  RobotLink * link, int & links_with_geom_checked,\n+  int & links_with_geom_unchecked, int n_args, ...)\n+{\n+  va_list arg_ptr;\n+  va_start(arg_ptr, n_args);\n+\n+  for (auto & child_joint_name : link->getChildJointNames()) {\n+    RobotJoint * child_joint = robot_->getJoint(child_joint_name);\n+    if (child_joint) {\n+      int child_links_with_geom;\n+      int child_links_with_geom_checked;\n+      int child_links_with_geom_unchecked;\n+      if (n_args == 1) {\n... [truncated] ...\n+  int & links_with_geom,\n+  int & links_with_geom_checked,\n+  int & links_with_geom_unchecked,\n+  bool recursive)\n+{\n+  links_with_geom = 0;\n+  RobotLink * link = this->links_checked_and_unchecked(\n+    links_with_geom_checked, links_with_geom_unchecked);\n+  if (!link) {\n+    return;\n+  }\n-    for (auto & child_joint_name : link->getChildJointNames()) {\n-      RobotJoint * child_joint = robot_->getJoint(child_joint_name);\n-      if (child_joint) {\n-        int child_links_with_geom;\n-        int child_links_with_geom_checked;\n-        int child_links_with_geom_unchecked;\n-        child_joint->getChildLinkState(\n-          child_links_with_geom, child_links_with_geom_checked,\n-          child_links_with_geom_unchecked, recursive);\n-        links_with_geom_checked += child_links_with_geom_checked;\n-        links_with_geom_unchecked += child_links_with_geom_unchecked;\n-      }\n-    }\n+    this->links_with_geom(link, links_with_geom_checked, links_with_geom_unchecked, 1, recursive);\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nlink against thread library where necessary (#1210)\n\nSigned-off-by: Dirk Thomas <dirk-thomas@users.noreply.github.com>\n\nDiff:\n+\n+find_package(Threads REQUIRED)\n+target_link_libraries(${PROJECT_NAME} ${CMAKE_THREAD_LIBS_INIT})\n\nLabel:"}, {"role": "assistant", "content": "Other"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nIncluded tl_expected (#185)\n\nDiff:\n+# TODO (ahcorde): Remove tl_expected when CXX 20 standard is available\n-  find_package(ament_lint_auto REQUIRED)\n+\n+  find_package(ament_cmake_copyright REQUIRED)\n+  find_package(ament_cmake_cppcheck REQUIRED)\n+  find_package(ament_cmake_cpplint REQUIRED)\n+  find_package(ament_cmake_flake8 REQUIRED)\n+  find_package(ament_cmake_lint_cmake REQUIRED)\n+  find_package(ament_cmake_pep257 REQUIRED)\n+  find_package(ament_cmake_uncrustify REQUIRED)\n+  find_package(ament_cmake_xmllint REQUIRED)\n+\n+  set(\n+    _linter_excludes\n+    include/rcpputils/tl_expected/expected.hpp\n+  )\n+\n+  ament_copyright(EXCLUDE ${_linter_excludes})\n+  ament_cppcheck(\n+    EXCLUDE ${_linter_excludes}\n+    LANGUAGE c++\n+  )\n+  ament_cpplint(EXCLUDE ${_linter_excludes})\n+  ament_flake8(EXCLUDE ${_linter_excludes})\n+  ament_lint_cmake()\n... [truncated] ...\n+template <class T, class E,\n+          detail::enable_if_t<(std::is_void<T>::value ||\n+                               std::is_move_constructible<T>::value) &&\n+                              detail::is_swappable<T>::value &&\n+                              std::is_move_constructible<E>::value &&\n+                              detail::is_swappable<E>::value> * = nullptr>\n+void swap(expected<T, E> &lhs,\n+          expected<T, E> &rhs) noexcept(noexcept(lhs.swap(rhs))) {\n+  lhs.swap(rhs);\n+}\n+} // namespace tl\n+\n+#endif\n-  <test_depend>ament_lint_common</test_depend>\n-  <test_depend>ament_lint_auto</test_depend>\n+  <test_depend>ament_cmake_gtest</test_depend>\n+  <test_depend>ament_cmake_copyright</test_depend>\n+  <test_depend>ament_cmake_cppcheck</test_depend>\n+  <test_depend>ament_cmake_cpplint</test_depend>\n+  <test_depend>ament_cmake_flake8</test_depend>\n+  <test_depend>ament_cmake_lint_cmake</test_depend>\n+  <test_depend>ament_cmake_pep257</test_depend>\n+  <test_depend>ament_cmake_uncrustify</test_depend>\n+  <test_depend>ament_cmake_xmllint</test_depend>\n+\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix implementation of NodeOptions::use_global_arguments() (#1176)\n\n`this->node_options_` might still be `nullptr` for a default initialized NodeOptions instance.\r\n`use_global_arguments()` must return `this->use_global_arguments_`, in analogy to `NodeOptions::enable_rosout()`.\r\n\r\nSigned-off-by: Johannes Meyer <johannes@intermodalics.eu>\n\nDiff:\n-  return this->node_options_->use_global_arguments;\n+  return this->use_global_arguments_;\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd in additional tests for parameter_client.cpp coverage.\n\nThis gets us to 96% line coverage.\n\nSigned-off-by: Chris Lalancette <clalancette@openrobotics.org>\n\nDiff:\n+#include <chrono>\n+#include <functional>\n+#include <future>\n+#include <memory>\n+#include <stdexcept>\n-#include <memory>\n+#include <vector>\n+\n+/*\n+  Coverage for async get_parameter_types\n+ */\n+TEST_F(TestParameterClient, async_parameter_get_parameter_types) {\n+  auto asynchronous_client = std::make_shared<rclcpp::AsyncParametersClient>(node);\n+  bool callback_called = false;\n+  auto callback = [&callback_called](std::shared_future<std::vector<rclcpp::ParameterType>> result)\n+    {\n+      // We expect the result to be empty since we tried to get a parameter that didn't exist.\n+      if (result.valid() && result.get().size() == 0) {\n+        callback_called = true;\n+      }\n+    };\n+  std::vector<std::string> names{\"foo\"};\n+  std::shared_future<std::vector<rclcpp::ParameterType>> future =\n+    asynchronous_client->get_parameter_types(names, callback);\n+  auto return_code = rclcpp::spin_until_future_complete(\n... [truncated] ...\n+      if (result.valid() && result.get().names.size() == 0 && result.get().prefixes.size() == 0) {\n+        callback_called = true;\n+      }\n+    };\n+  std::vector<std::string> prefixes{\"foo\"};\n+  std::shared_future<rcl_interfaces::msg::ListParametersResult> future =\n+    asynchronous_client->list_parameters(prefixes, 0, callback);\n+  auto return_code = rclcpp::spin_until_future_complete(\n+    node, future, std::chrono::milliseconds(100));\n+  ASSERT_EQ(rclcpp::FutureReturnCode::SUCCESS, return_code);\n+  ASSERT_TRUE(callback_called);\n+}\n+\n+/*\n+  Coverage for sync get_parameter_types\n+ */\n+TEST_F(TestParameterClient, sync_parameter_get_parameter_types) {\n+  node->declare_parameter(\"foo\", 4);\n+  auto synchronous_client = std::make_shared<rclcpp::SyncParametersClient>(node);\n+  std::vector<std::string> names{\"foo\"};\n+  std::vector<rclcpp::ParameterType> parameter_types =\n+    synchronous_client->get_parameter_types(names);\n+  ASSERT_EQ(1u, parameter_types.size());\n+  ASSERT_EQ(rclcpp::ParameterType::PARAMETER_INTEGER, parameter_types[0]);\n+}\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nIncrease timeouts for connext for long tests (#1253)\n\n* Increase timeouts for connext for long tests\r\n\r\nSigned-off-by: Stephen Brawner <brawner@gmail.com>\r\n\r\n* Fix cmakelists\r\n\r\nSigned-off-by: Stephen Brawner <brawner@gmail.com>\n\nDiff:\n-ament_add_gtest(test_allocator_memory_strategy rclcpp/strategies/test_allocator_memory_strategy.cpp)\n+# Increasing timeout because connext can take a long time to destroy nodes\n+# TODO(brawner) remove when destroying Node for Connext is resolved. See:\n+# https://github.com/ros2/rclcpp/issues/1250\n+ament_add_gtest(\n+  test_allocator_memory_strategy\n+  rclcpp/strategies/test_allocator_memory_strategy.cpp\n+  TIMEOUT 360)\n-ament_add_gtest(test_executors rclcpp/executors/test_executors.cpp\n-  APPEND_LIBRARY_DIRS \"${append_library_dirs}\")\n+# TODO(brawner) remove when destroying Node for Connext is resolved. See:\n+# https://github.com/ros2/rclcpp/issues/1250\n+ament_add_gtest(\n+  test_executors\n+  rclcpp/executors/test_executors.cpp\n+  APPEND_LIBRARY_DIRS \"${append_library_dirs}\"\n+  TIMEOUT 180)\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nMake sure to call rcl_arguments_fini at the end of the test.\n\nDiff:\n+\n+  EXPECT_EQ(RCL_RET_OK, rcl_arguments_fini(&prev_ini_options.arguments));\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nUpdate rmw_fastrtps README to use Fast DDS\n\nDiff:\n-`rmw_fastrtps_cpp` implements the ROS middleware interface using eProsima FastRTPS static code generation in C++.\n+`rmw_fastrtps_cpp` implements the ROS middleware interface using eProsima Fast DDS static code generation in C++.\n\nLabel:"}, {"role": "assistant", "content": "Documentation"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nRemove CODEOWNERS and the rolling-to-master job. (#1199)\n\nDiff:\n-name: Mirror rolling to master\n-\n-on:\n-  push:\n-    branches: [ rolling ]\n-\n-jobs:\n-  mirror-to-master:\n-    runs-on: ubuntu-latest\n-    steps:\n-    - uses: zofrex/mirror-branch@v1\n-      with:\n-        target-branch: master\n-# This file was generated by https://github.com/audrow/update-ros2-repos\n-* @audrow @ivanpauno @wjwwood\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdded rmw_event_type_is_supported (#395)\n\nDiff:\n+\n+/// Check if an event type is supported by the RMW implementation.\n+/*\n+ * \\param[in] rmw_event_type to check\n+ * \\return True if the event is supported false otherwise.\n+ */\n+RMW_PUBLIC\n+RMW_WARN_UNUSED\n+bool\n+rmw_event_type_is_supported(rmw_event_type_t rmw_event_type);\n+\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nChange g_mask_map_ptr type to array of dds_StatusKind\n\nDiff:\n-#include <unordered_map>\n-#include <memory>\n-static std::shared_ptr<std::unordered_map<rmw_event_type_t, dds_StatusKind, std::hash<int>>>\n-g_mask_map_ptr {new std::unordered_map<rmw_event_type_t, dds_StatusKind, std::hash<int>> {\n-    {RMW_EVENT_LIVELINESS_CHANGED, dds_LIVELINESS_CHANGED_STATUS},\n-    {RMW_EVENT_REQUESTED_DEADLINE_MISSED, dds_REQUESTED_DEADLINE_MISSED_STATUS},\n-    {RMW_EVENT_REQUESTED_QOS_INCOMPATIBLE, dds_REQUESTED_INCOMPATIBLE_QOS_STATUS},\n-    {RMW_EVENT_MESSAGE_LOST, dds_SAMPLE_LOST_STATUS},\n-    {RMW_EVENT_LIVELINESS_LOST, dds_LIVELINESS_LOST_STATUS},\n-    {RMW_EVENT_OFFERED_DEADLINE_MISSED, dds_OFFERED_DEADLINE_MISSED_STATUS},\n-    {RMW_EVENT_OFFERED_QOS_INCOMPATIBLE, dds_OFFERED_INCOMPATIBLE_QOS_STATUS},\n-  }};\n+static const dds_StatusKind g_mask_map[] {\n+  dds_LIVELINESS_CHANGED_STATUS,  // RMW_EVENT_LIVELINESS_CHANGED\n+  dds_REQUESTED_DEADLINE_MISSED_STATUS,  // RMW_EVENT_REQUESTED_DEADLINE_MISSED\n+  dds_REQUESTED_INCOMPATIBLE_QOS_STATUS,  // RMW_EVENT_REQUESTED_QOS_INCOMPATIBLE\n+  dds_SAMPLE_LOST_STATUS,  // RMW_EVENT_MESSAGE_LOST\n+  dds_LIVELINESS_LOST_STATUS,  // RMW_EVENT_LIVELINESS_LOST\n+  dds_OFFERED_DEADLINE_MISSED_STATUS,  // RMW_EVENT_OFFERED_DEADLINE_MISSED\n+  dds_OFFERED_INCOMPATIBLE_QOS_STATUS  // RMW_EVENT_OFFERED_QOS_INCOMPATIBLE\n+};\n-  auto mask_map_ptr{g_mask_map_ptr};\n-  if (mask_map_ptr == nullptr) {\n+  if (!is_event_supported(event_t)) {\n-  return mask_map_ptr->at(event_t);\n+\n+  return g_mask_map[static_cast<int>(event_t)];\n-  auto mask_map_ptr{g_mask_map_ptr};\n-  if (mask_map_ptr == nullptr) {\n-    return false;\n-  }\n-  return mask_map_ptr->count(event_t) > 0;\n+  return 0 <= event_t && event_t < RMW_EVENT_INVALID;\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nParameters fini memory (#253)\n\nDiff:\n+  rosidl_runtime_c__String__fini(&parameter_server->event_list.node);\n+\n+  for (size_t i = 0; i < parameter_server->describe_request.names.capacity; i++) {\n+    rosidl_runtime_c__String__fini(&parameter_server->describe_request.names.data[i]);\n+    rosidl_runtime_c__String__fini(&parameter_server->describe_response.descriptors.data[i].name);\n+  }\n+\n+  rcl_interfaces__msg__ParameterDescriptor__Sequence__fini(\n+    &parameter_server->describe_response.descriptors);\n+  rosidl_runtime_c__String__Sequence__fini(&parameter_server->describe_request.names);\n+  rcl_interfaces__srv__DescribeParameters_Response__fini(&parameter_server->describe_response);\n+  rcl_interfaces__srv__DescribeParameters_Request__fini(&parameter_server->describe_request);\n+\n+  for (size_t i = 0; i < parameter_server->get_types_request.names.capacity; i++) {\n+    rosidl_runtime_c__String__fini(&parameter_server->get_types_request.names.data[i]);\n+  }\n+\n+  rosidl_runtime_c__uint8__Sequence__fini(&parameter_server->get_types_response.types);\n+  rosidl_runtime_c__String__Sequence__fini(&parameter_server->get_types_request.names);\n+  rcl_interfaces__srv__GetParameterTypes_Response__fini(&parameter_server->get_types_response);\n+  rcl_interfaces__srv__GetParameterTypes_Request__fini(&parameter_server->get_types_request);\n+\n+  for (size_t i = 0; i < parameter_server->set_request.parameters.capacity; i++) {\n+    rosidl_runtime_c__String__fini(&parameter_server->set_request.parameters.data[i].name);\n+    rosidl_runtime_c__String__fini(&parameter_server->set_response.results.data[i].reason);\n... [truncated] ...\n+    rosidl_runtime_c__String__fini(&parameter_server->get_request.names.data[i]);\n+  }\n+\n+  rcl_interfaces__msg__ParameterValue__Sequence__fini(&parameter_server->get_response.values);\n+  rosidl_runtime_c__String__Sequence__fini(&parameter_server->get_request.names);\n+  rcl_interfaces__srv__GetParameters_Response__fini(&parameter_server->get_response);\n+  rcl_interfaces__srv__GetParameters_Request__fini(&parameter_server->get_request);\n+\n+  for (size_t i = 0; i < parameter_server->list_response.result.names.capacity; i++) {\n+    rosidl_runtime_c__String__fini(&parameter_server->list_response.result.names.data[i]);\n+  }\n+\n+  rosidl_runtime_c__String__Sequence__fini(&parameter_server->list_response.result.names);\n+  rcl_interfaces__srv__ListParameters_Response__fini(&parameter_server->list_response);\n+  rcl_interfaces__srv__ListParameters_Request__fini(&parameter_server->list_request);\n+\n+  for (size_t i = 0; i < parameter_server->parameter_list.capacity; i++) {\n+    rosidl_runtime_c__String__fini(&parameter_server->parameter_list.data[i].name);\n+  }\n+\n+  rcl_interfaces__msg__Parameter__Sequence__fini(&parameter_server->parameter_list);\n+\n+\n+  // Destroy parameter server\n+  ASSERT_EQ(rclc_parameter_server_fini(&param_server, &node), RCL_RET_OK);\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nupdating README.md see https://github.com/micro-ROS/micro-ROS.github.io/pull/356 and https://github.com/micro-ROS/micro-ROS.github.io/pull/357\n\nDiff:\n-## Table of Contents\n+## Table of contents\n-[Overview](#overview)\n+*   [Introduction](#introduction)\n-[RCLC-Executor](#rclc-executor)\n-  * [Requirement Analysis](#requirement-analysis)\n-    * [Real-time embedded application use-case](#real-time-embedded-application-use-case)\n-    * [Sense-plan-act pipeline in mobile robotics](#sense-plan-act-pipeline-in-mobile-robotics)\n+*   [Analysis of rclcpp standard Executor](#analysis-of-rclcpp-standard-executor)\n+    * [Architecture](#architecture)\n+    * [Scheduling Semantics](#scheduling-semantics)\n+\n+*   [Analysis of processing patterns](#analysis-of-processing-patterns)\n+    * [Sense-plan-act pipeline in robotics](#sense-plan-act-pipeline-in-robotics)\n-  * [Features](#features)\n-    * [Sequential execution](#sequential-execution)\n-    * [Trigger condition](#trigger-condition)\n-    * [LET-Semantics](#let-semantics)\n-  * [Executor API](#executor-api)\n-    * [Configuration](#configuration-phase)\n-    * [Running](#running-phase)\n-    * [Clean-Up](#clean-up)\n-  * [Examples RCLC-Executor](#examples-rclc-executor)\n-    * [Example real-time embedded application use-case](#example-real-time-embedded-application-use-case)\n-    * [Example sense-plan-act pipeline in mobile robotics](#example-sense-plan-act-pipeline-in-mobile-robotics)\n... [truncated] ...\n-## Example RCLC-Executor with convenience functions\n+* [SLD2021]<a name=\"SLD2021\"></a> J. Staschulat, R. Lange and D. N. Dasari, \"Budget-based real-time Executor for Micro-ROS\", arXiv Pre-Print, May 2021. [[paper](https://arxiv.org/abs/2105.05590)] \n+\n+* [L2020]<a name=\"L2020\"></a> Ralph Lange: Advanced Execution Management with ROS 2, ROS-Industrial Conference, Dec 2020 [[Slides]](https://micro-ros.github.io/download/2020-12-16_Advanced_Execution_Management_with_ROS_2.pdf)\n+\n+* [SLL2020]<a name=\"SLL2020\"></a> J. Staschulat, I. L\u251c\u255dtkebohle and R. Lange, \"The rclc Executor: Domain-specific deterministic scheduling mechanisms for ROS applications on microcontrollers: work-in-progress,\" 2020 International Conference on Embedded Software (EMSOFT), Singapore, Singapore, 2020, pp. 18-19. [[Paper]](https://ieeexplore.ieee.org/document/9244014) [[Video]](https://whova.com/embedded/session/eswe_202009/1145800/)\n+\n+* [CB2019]<a name=\"CB2019\"> </a> D. Casini, T. Bla\u251c\u0192, I. L\u251c\u255dtkebohle, B. Brandenburg: Response-Time Analysis of ROS 2 Processing Chains under Reservation-Based Scheduling, in Euromicro-Conference on Real-Time Systems 2019. [[Paper]](http://drops.dagstuhl.de/opus/volltexte/2019/10743/) [[slides]](https://t-blass.de/talks/ECRTS2019.pdf)\n+\n+* [L2018]<a name=\"L2018\"></a> Ralph Lange: Callback-group-level Executor for ROS 2. Lightning talk at ROSCon 2018. Madrid, Spain. Sep 2018. [[Slides]](https://roscon.ros.org/2018/presentations/ROSCon2018_Lightning1_4.pdf) [[Video]](https://vimeo.com/292707644)\n+\n+* [EK2018]<a name=\"EK2018\"></a> R. Ernst, S. Kuntz, S. Quinton, M. Simons: The Logical Execution Time Paradigm: New Perspectives for Multicore Systems, February 25-28 2018 (Dagstuhl Seminar 18092). [[Paper]](http://drops.dagstuhl.de/opus/volltexte/2018/9293/pdf/dagrep_v008_i002_p122_18092.pdf)\n+\n+* [NSP2018]<a name=\"NSP2018\"></a> A. Naderlinger, S. Resmerita, and W. Pree: LET for Legacy and Model-based Applications,\n+Proceedings of The Logical Execution Time Paradigm: New Perspectives for Multicore Systems (Dagstuhl Seminar 18092), Wadern, Germany, February 2018.\n+\n+* [BP2017]<a name=\"BP2017\"></a> A. Biondi, P. Pazzaglia, A. Balsini,  M. D. Natale: Logical Execution Time Implementation and Memory Optimization Issues in AUTOSAR Applications for Multicores, International Worshop on Analysis Tools and Methodologies for Embedded and Real-Time Systems (WATERS2017), Dubrovnik, Croatia.[[Paper]](https://pdfs.semanticscholar.org/4a9e/b9a616c25fd0b4a4f7810924e73eee0e7515.pdf)\n+\n+* [KZH2015]<a name=\"KZH2015\"></a> S. Kramer, D. Ziegenbein, and A. Hamann: Real World Automotive Benchmarks For Free, International Workshop on Analysis Tools and Methodologies for Embedded adn Real-Time Sysems (WATERS), 2015.\n+\n+* [HHK2001]<a name=\"HHK2001\"></a> Henzinger T.A., Horowitz B., Kirsch C.M. (2001) Giotto: A Time-Triggered Language for Embedded Programming. In: Henzinger T.A., Kirsch C.M. (eds) Embedded Software. EMSOFT 2001. Lecture Notes in Computer Science, vol 2211. Springer, Berlin, Heidelberg\n-An example, how to use the LET Executor with rclc convenience functions is given in the file\n-`example_executor_convenience.c` in the package:\n-[rclc_examples](../rclc_examples).\n+* [LL1973]<a name=\"LL1973\"></a> Liu, C. L.; Layland, J.:Scheduling algorithms for multiprogramming in a hard real-time environment, Journal of the ACM, 20 (1): 46\u0393\u00c7\u00f461, 1973.\n\nLabel:"}, {"role": "assistant", "content": "Documentation"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nUse gurumdds-3.1\n\nDiff:\n+| 3.6.0  or higher         | higher than 3.1.0           |\n-  <build_depend>gurumdds-3.0</build_depend>\n+  <build_depend>gurumdds-3.1</build_depend>\n-  <build_depend>gurumdds-3.0</build_depend>\n+  <build_depend>gurumdds-3.1</build_depend>\n-  <build_export_depend>gurumdds-3.0</build_export_depend>\n+  <build_export_depend>gurumdds-3.1</build_export_depend>\n\nLabel:"}, {"role": "assistant", "content": "Documentation"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nDelete frame_locked_markers when reusing marker (#907)\n\nDiff:\n+    frame_locked_markers_.erase(marker);\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix struct array deserialization\n\nDiff:\n-      for (uint32_t j = 0; j < member->size_function(output + member->offset_); j++) {\n-        deserialize(\n-          reinterpret_cast<const rosidl_typesupport_introspection_c__MessageMembers *>(\n-            member->members_->data\n-          ),\n-          reinterpret_cast<uint8_t *>(\n-            member->get_function(output + member->offset_, j)\n-          )\n-        );\n-      }\n-    } else {\n-      void * tmp = output + member->offset_;\n-      for (uint32_t j = 0; j < member->size_function(output + member->offset_); j++) {\n-        deserialize(\n-          reinterpret_cast<const rosidl_typesupport_introspection_c__MessageMembers *>(\n-            member->members_->data\n-          ),\n-          reinterpret_cast<uint8_t *>(\n-            member->get_function(&tmp, j)\n-          )\n-        );\n-      }\n+    }\n+    for (uint32_t j = 0; j < member->size_function(output + member->offset_); j++) {\n+      deserialize(\n+        reinterpret_cast<const rosidl_typesupport_introspection_c__MessageMembers *>(\n+          member->members_->data\n+        ),\n+        reinterpret_cast<uint8_t *>(\n+          member->get_function(output + member->offset_, j)\n+        )\n+      );\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nadd test to ensure binary STL files from SOLIDWORKS get imported without a warning (#917)\n\nDiff:\n-  if (buffer_str.substr(0, 5) == std::string(\"solid\")) {\n-    // file says that it is ascii, but why should we trust it?\n-\n-    // check for \"endsolid\" as well\n-    if (buffer_str.find(\"endsolid\", 5) != std::string::npos) {\n-      RVIZ_RENDERING_LOG_ERROR_STREAM(\n-        \"The STL file '\" << origin << \"' is malformed. It \"\n-          \"starts with the word 'solid' and also contains the \"\n-          \"word 'endsolid', indicating that it's an ASCII STL \"\n-          \"file, but rviz can only load binary STL files so it \"\n-          \"will not be loaded. Please convert it to a \"\n-          \"binary STL file.\");\n-      return false;\n-    }\n-\n-    // chastise the user for malformed files\n-    RVIZ_RENDERING_LOG_WARNING_STREAM(\n-      \"The STL file '\" << origin << \"' is malformed. It starts \"\n-        \"with the word 'solid', indicating that it's an ASCII \"\n-        \"STL file, but it does not contain the word 'endsolid' so \"\n-        \"it is either a malformed ASCII STL file or it is actually \"\n-        \"a binary STL file. Trying to interpret it as a binary \"\n-        \"STL file instead.\");\n+  if (buffer_str.substr(0, 5) == std::string(\"solid\") &&\n+    buffer_str.find(\"endsolid\", 5) != std::string::npos)\n+  {\n+    RVIZ_RENDERING_LOG_ERROR_STREAM(\n+      \"The STL file '\" << origin << \"' is malformed. It \"\n+        \"starts with the word 'solid' and also contains the \"\n+        \"word 'endsolid', indicating that it's an ASCII STL \"\n+        \"file, but rviz can only load binary STL files so it \"\n+        \"will not be loaded. Please convert it to a \"\n+        \"binary STL file.\");\n+    return false;\n+\n+TEST_F(MeshLoaderTestFixture, loading_solidworks_binary_stl) {\n+  // In general, binary STL files should not start with \"solid\" as this hints ASCII STL files.\n+  // Annoyingly, STL files exported from Solidworks don't follow this guideline and contain\n+  // \"solid\" at the start of binary STL files.\n+  // However, they don't finish with \"endsolid\" like ASCII STL files, so we can still detect\n+  // them as binary STL files.\n+  // This test checks that SOLIDWORKS binary STL files get loaded correctly and don't get treated\n+  // as ASCII STL files.\n+  std::string mesh_path = \"package://rviz_rendering_tests/test_meshes/solidworks.stl\";\n+\n+  ASSERT_TRUE(rviz_rendering::loadMeshFromResource(mesh_path));\n+}\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix conversion of negative durations to messages (#1188)\n\n* Fix conversion from negative Duration or Time to the respective message type and throw in Duration::to_rmw_time() if the duration is negative.\r\nrmw_time_t cannot represent negative durations.\r\n\r\nConstructors and assignment operators can be just defaulted.\r\n\r\nOther changes are mainly cosmetical, to make conversions between signed\r\nand unsigned types and between 32-bit and 64-bit types more explicit.\r\n\r\nSigned-off-by: Johannes Meyer <johannes@intermodalics.eu>\r\n\r\n* Add -Wconversion compiler option and fix implicit conversions that might alter the value\r\n\r\nSigned-off-by: Johannes Meyer <johannes@intermodalics.eu>\r\n\r\n* Fix usage of fixture class in some unit tests by using gtest macro TEST_F() instead of TEST().\r\n\r\nSigned-off-by: Johannes Meyer <johannes@intermodalics.eu>\r\n\r\n* Add compiler option -Wno-sign-conversion to fix build with Clang on macOS\r\n\r\nSigned-off-by: Johannes Meyer <johannes@intermodalics.eu>\n\nDiff:\n-  add_compile_options(-Wall -Wextra -Wpedantic -Wnon-virtual-dtor -Woverloaded-virtual)\n+  # About -Wno-sign-conversion: With Clang, -Wconversion implies -Wsign-conversion. There are a number of\n+  # implicit sign conversions in rclcpp and gtest.cc, see https://ci.ros2.org/job/ci_osx/9265/.\n+  # Hence disabling -Wsign-conversion for now until all those have eventually been fixed.\n+  # (from https://github.com/ros2/rclcpp/pull/1188#issuecomment-650229140)\n+  add_compile_options(-Wall -Wextra -Wconversion -Wno-sign-conversion -Wpedantic -Wnon-virtual-dtor -Woverloaded-virtual)\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nCheck waitable for nullptr during constructor (#1315)\n\nSigned-off-by: Stephen Brawner <brawner@gmail.com>\n\nDiff:\n-      rclcpp::Waitable & waitable = *waitable_entry.waitable.get();\n+      auto waitable_ptr_pair = get_raw_pointer_from_smart_pointer(waitable_entry.waitable);\n+      if (nullptr == waitable_ptr_pair.second) {\n+        if (HasStrongOwnership) {\n+          throw std::runtime_error(\"unexpected condition, fixed storage policy needs pruning\");\n+        }\n+        // Flag for pruning.\n+        needs_pruning_ = true;\n+        continue;\n+      }\n+\n+      rclcpp::Waitable & waitable = *waitable_ptr_pair.second;\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nUpdated QD (#53)\n\nDiff:\n-The package `rosidl_typesupport_fastrtps_c` claims to be in the **Quality Level 3** category.\n+The package `rosidl_typesupport_fastrtps_c` claims to be in the **Quality Level 2** category.\n-`rosidl_typesupport_fastrtps_c` does not currently have performance tests.\n+The performance tests of `rosidl_typesupport_fastrtps_c` are located in the [test/benchmark directory](https://github.com/ros2/rosidl_typesupport_fastrtps/tree/master/rosidl_typesupport_fastrtps_c/test/benchmark). The most recent test results can be found [here](http://build.ros2.org/view/Rci/job/Rci__benchmark_ubuntu_focal_amd64/BenchmarkTable/).\n-`rosidl_typesupport_fastrtps_c` has the following runtime ROS dependencies, which are at or above QL 3:\n-* `fastrtps_cmake_module`: [QUALITY DECLARATION](../fastrtps_cmake_module/QUALITY_DECLARATION.md)\n+`rosidl_typesupport_fastrtps_c` has the following runtime ROS dependencies, which are at or above QL 2:\n-This package claims to be in the **Quality Level 4** category, see the [Quality Declaration](QUALITY_DECLARATION.md) for more details.\n+This package claims to be in the **Quality Level 2** category, see the [Quality Declaration](QUALITY_DECLARATION.md) for more details.\n-The package `rosidl_typesupport_fastrtps_cpp` claims to be in the **Quality Level 3** category.\n+The package `rosidl_typesupport_fastrtps_cpp` claims to be in the **Quality Level 2** category.\n-`rosidl_typesupport_fastrtps_cpp` does not currently have performance tests.\n+The performance tests of `rosidl_typesupport_fastrtps_cpp` are located in the [test/benchmark directory](https://github.com/ros2/rosidl_typesupport_fastrtps/tree/master/rosidl_typesupport_fastrtps_cpp/test/benchmark). The most recent test results can be found [here](http://build.ros2.org/view/Rci/job/Rci__benchmark_ubuntu_focal_amd64/BenchmarkTable/).\n-This package claims to be in the **Quality Level 4** category, see the [Quality Declaration](QUALITY_DECLARATION.md) for more details.\n+This package claims to be in the **Quality Level 2** category, see the [Quality Declaration](QUALITY_DECLARATION.md) for more details.\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAutostarting lifecycle nodes and example launch file demo (#430)\n\nDiff:\n+# Copyright 2024 Open Navigation LLC\n+#\n+# Licensed under the Apache License, Version 2.0 (the \"License\");\n+# you may not use this file except in compliance with the License.\n+# You may obtain a copy of the License at\n+#\n+#     http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"Launch a lifecycle talker and a lifecycle listener.\"\"\"\n+\n+import os\n+import sys\n+sys.path.insert(0, os.path.join(os.path.dirname(__file__), '..'))  # noqa\n+sys.path.insert(0, os.path.join(os.path.dirname(__file__), '..', '..', 'launch'))  # noqa\n+\n+import launch  # noqa: E402\n+import launch.actions  # noqa: E402\n+import launch.events  # noqa: E402\n+\n... [truncated] ...\n+\n+        # Create a subscription to monitor the state changes of the subprocess.\n+        self.__rclpy_subscription = node.create_subscription(\n+            lifecycle_msgs.msg.TransitionEvent,\n+            '{}/transition_event'.format(self.node_name),\n+            functools.partial(self._on_transition_event, context),\n+            10)\n+\n+        # Create a service client to change state on demand.\n+        self.__rclpy_change_state_client = node.create_client(\n+            lifecycle_msgs.srv.ChangeState,\n+            '{}/change_state'.format(self.node_name))\n+\n+        # Register an event handler to change states on a ChangeState lifecycle event.\n+        context.register_event_handler(launch.EventHandler(\n+            matcher=lambda event: isinstance(event, ChangeState),\n+            entities=[launch.actions.OpaqueFunction(function=self._on_change_state_event)],\n+        ))\n+    LifecycleNode(\n+        package='asd',\n+        executable='bsd',\n+        name='my_node',\n+        namespace='my_ns',\n+        autostart=True,\n+    )\n\nLabel:"}, {"role": "assistant", "content": "Documentation"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd an option to publish TwistStamped (#42)\n\nDiff:\n+    test/publish_stamped_twist_joy_launch_test.py\n+The message type can be changed to `geometry_msgs/msg/TwistStamped` by the `publish_stamped_twist` parameter.\n-- `cmd_vel (geometry_msgs/msg/Twist)`\n+- `cmd_vel (geometry_msgs/msg/Twist or geometry_msgs/msg/TwistStamped)`\n+- `publish_stamped_twist (bool, default: false)`\n+  - Whether to publish `geometry_msgs/msg/TwistStamped` for command velocity messages.\n+\n+- `frame (string, default: 'teleop_twist_joy')`\n+  - Frame name used for the header of TwistStamped messages.\n+- `publish_stamped_twist (bool, default: false)`\n+  - Whether to publish `geometry_msgs/msg/TwistStamped` for command velocity messages.\n+    publish_stamped_twist = launch.substitutions.LaunchConfiguration('publish_stamped_twist')\n+        launch.actions.DeclareLaunchArgument('publish_stamped_twist', default_value='false'),\n-            name='teleop_twist_joy_node', parameters=[config_filepath],\n+            name='teleop_twist_joy_node',\n+            parameters=[config_filepath, {'publish_stamped_twist': publish_stamped_twist}],\n+#include <geometry_msgs/msg/twist_stamped.hpp>\n+  void fillCmdVelMsg(\n+    const sensor_msgs::msg::Joy::SharedPtr, const std::string & which_map,\n+    geometry_msgs::msg::Twist * cmd_vel_msg);\n+  rclcpp::Publisher<geometry_msgs::msg::TwistStamped>::SharedPtr cmd_vel_stamped_pub;\n+  rclcpp::Clock::SharedPtr clock;\n+  bool publish_stamped_twist;\n+  std::string frame_id;\n-  pimpl_->cmd_vel_pub = this->create_publisher<geometry_msgs::msg::Twist>(\"cmd_vel\", 10);\n... [truncated] ...\n+\n+    return launch.LaunchDescription([\n+            teleop_node,\n+            launch_testing.actions.ReadyToTest(),\n+        ]), locals()\n+\n+\n+class PublishTwistStamped(test_joy_twist.TestJoyTwist):\n+\n+    def setUp(self):\n+        self.cmd_vel_msg_type = geometry_msgs.msg.TwistStamped\n+        super().setUp()\n+        self.joy_msg['axes'] = [0.3, 0.4]\n+        self.joy_msg['buttons'] = [1]\n+        self.expect_cmd_vel['linear']['x'] = 0.8\n+        self.expect_cmd_vel['angular']['z'] = 0.9\n-        self.sub = self.node.create_subscription(geometry_msgs.msg.Twist,\n+        if not hasattr(self, \"cmd_vel_msg_type\"):\n+            self.cmd_vel_msg_type = geometry_msgs.msg.Twist\n+        self.sub = self.node.create_subscription(self.cmd_vel_msg_type,\n-        self.received_cmd_vel = msg\n+        if self.cmd_vel_msg_type is geometry_msgs.msg.Twist:\n+            self.received_cmd_vel = msg\n+        else:\n+            self.received_cmd_vel = msg.twist\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd missing cstddef include (#147)\n\nDiff:\n+#include <cstddef>\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nChange syntax __VAR_ARGS__ to __VA_ARGS__ (#376)\n\nDiff:\n-#define my__has_feature(...) __has_feature(__VAR_ARGS__)\n+#define my__has_feature __has_feature\n-#define my__has_feature(...) 0\n+#define my__has_feature(x) 0\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\n`tf2_geometry_msgs`: Fixing covariance transformation in `doTransform<PoseWithCovarianceStamped, TransformStamped>` (#430)\n\nDiff:\n+#include <geometry_msgs/msg/transform.hpp>\n+#include <geometry_msgs/msg/pose_with_covariance.hpp>\n+/** \\brief Transform the covariance matrix of a PoseWithCovariance message to a new frame.\n+ * \\param cov_in The covariance matrix to transform.\n+ * \\param transform The transform to apply, as a tf2::Transform structure.\n+ * \\return The transformed covariance matrix.\n+ */\n+inline\n+geometry_msgs::msg::PoseWithCovariance::_covariance_type transformCovariance(\n+  const geometry_msgs::msg::PoseWithCovariance::_covariance_type & cov_in,\n+  const tf2::Transform & transform)\n+{\n+    /**\n+     * To transform a covariance matrix:\n+     * \n+     * \\verbatim[R 0] COVARIANCE [R' 0 ]\n+      [0 R]            [0  R']\\endverbatim\n+     * \n+     * Where:\n+     *         R is the rotation matrix (3x3).\n+     *         R' is the transpose of the rotation matrix.\n+     *         COVARIANCE is the 6x6 covariance matrix to be transformed.\n+     *\n+     * Reference:\n+     *         A. L. Garcia, \u0393\u00c7\u00a3Linear Transformations of Random Vectors,\u0393\u00c7\u00a5 in Probability,\n... [truncated] ...\n+    \n+    return cov_out;\n+}\n+\n+// Forward declaration\n+void fromMsg(const geometry_msgs::msg::Transform& in, tf2::Transform& out);\n+\n-    t_out.pose.covariance = t_in.pose.covariance;\n+\n+    tf2::Transform tf_transform;\n+    fromMsg(transform.transform, tf_transform);\n+    t_out.pose.covariance = transformCovariance(t_in.pose.covariance, tf_transform);\n+  geometry_msgs::msg::PoseWithCovariance::_covariance_type v1_expected_covariance = {\n+    1.0, -2.0, -3.0, 4.0, -5.0, -6.0,\n+    -1.0, 2.0, 3.0, -4.0, 5.0, 6.0,\n+    -1.0, 2.0, 3.0, -4.0, 5.0, 6.0,\n+    1.0, -2.0, -3.0, 4.0, -5.0, -6.0,\n+    -1.0, 2.0, 3.0, -4.0, 5.0, 6.0,\n+    -1.0, 2.0, 3.0, -4.0, 5.0, 6.0\n+  };\n+\n-  EXPECT_EQ(v_simple.pose.covariance, v1.pose.covariance);\n+  EXPECT_EQ(v_simple.pose.covariance, v1_expected_covariance);\n-  EXPECT_EQ(v_advanced.pose.covariance, v1.pose.covariance);\n+  EXPECT_EQ(v_advanced.pose.covariance, v1_expected_covariance);\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nSet automatically_declare_parameters_from_overrides in DirectNode. (#813)\n\nDiff:\n-            ])\n+            ], automatically_declare_parameters_from_overrides=True)\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nBump graph API test coverage. (#132)\n\nDiff:\n+\n+    ament_add_gtest(test_graph_api${target_suffix}\n+      test/test_graph_api.cpp\n+      ENV ${rmw_implementation_env_var}\n+      TIMEOUT 120\n+    )\n+    target_compile_definitions(test_graph_api${target_suffix}\n+      PUBLIC \"RMW_IMPLEMENTATION=${rmw_implementation}\")\n+    ament_target_dependencies(test_graph_api${target_suffix}\n+      osrf_testing_tools_cpp rcutils rmw rmw_implementation\n+    )\n+// Copyright 2020 Open Source Robotics Foundation, Inc.\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//     http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n... [truncated] ...\n+\n+  // A null node is an invalid argument.\n+  EXPECT_EQ(RMW_RET_INVALID_ARGUMENT, rmw_count_subscribers(nullptr, topic_name, &count));\n+  rmw_reset_error();\n+\n+  // A node from a different implementation cannot be used to query.\n+  const char * implementation_identifier = node->implementation_identifier;\n+  node->implementation_identifier = \"not-an-rmw-implementation-identifier\";\n+  EXPECT_EQ(RMW_RET_INCORRECT_RMW_IMPLEMENTATION, rmw_count_subscribers(node, topic_name, &count));\n+  node->implementation_identifier = implementation_identifier;\n+  rmw_reset_error();\n+\n+  // A null topic name is an invalid argument.\n+  EXPECT_EQ(RMW_RET_INVALID_ARGUMENT, rmw_count_subscribers(node, nullptr, &count));\n+  rmw_reset_error();\n+\n+  // An invalid topic name is an invalid argument.\n+  constexpr char invalid_topic_name[] = \"not a valid topic name !\";\n+  EXPECT_EQ(RMW_RET_INVALID_ARGUMENT, rmw_count_subscribers(node, invalid_topic_name, &count));\n+  rmw_reset_error();\n+\n+  // A null count is an invalid argument.\n+  EXPECT_EQ(RMW_RET_INVALID_ARGUMENT, rmw_count_subscribers(node, topic_name, nullptr));\n+  rmw_reset_error();\n+}\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nIncrease rclcpp_action test coverage (#1153)\n\nSigned-off-by: Michel Hidalgo <michel@ekumenlabs.com>\n\nDiff:\n-      if (!shared_node) {\n-        return;\n-      }\n-      // API expects a shared pointer, give it one with a deleter that does nothing.\n-      std::shared_ptr<Client<ActionT>> fake_shared_ptr(ptr, [](Client<ActionT> *) {});\n+      if (shared_node) {\n+        // API expects a shared pointer, give it one with a deleter that does nothing.\n+        std::shared_ptr<Client<ActionT>> fake_shared_ptr(ptr, [](Client<ActionT> *) {});\n-      if (group_is_null) {\n-        // Was added to default group\n-        shared_node->remove_waitable(fake_shared_ptr, nullptr);\n-      } else {\n-        // Was added to a specfic group\n-        auto shared_group = weak_group.lock();\n-        if (shared_group) {\n-          shared_node->remove_waitable(fake_shared_ptr, shared_group);\n+        if (group_is_null) {\n+          // Was added to default group\n+          shared_node->remove_waitable(fake_shared_ptr, nullptr);\n+        } else {\n+          // Was added to a specific group\n+          auto shared_group = weak_group.lock();\n+          if (shared_group) {\n+            shared_node->remove_waitable(fake_shared_ptr, shared_group);\n+          }\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nReplace std_msgs with test_msgs in executors test (#1310)\n\nWithout this change, I am unable to build locally.\r\nstd_msgs is not declared as a test dependency or find_package'd anywhere, so\r\nI'm not sure why CI ever passed the build phase.\r\n\r\nSigned-off-by: Jacob Perron <jacob@openrobotics.org>\n\nDiff:\n-    \"rcl\")\n+    \"rcl\"\n+    \"test_msgs\")\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix a bad bug in fetching the lifecycle transitions. (#1321)\n\nDiff:\n+      test/test_lifecycle.py\n-    for (size_t i = 0; i <= state_machine_->transition_map.states_size; ++i) {\n+    for (size_t i = 0; i < state_machine_->transition_map.states_size; ++i) {\n-        'shuttingdown', 'activating', 'deactivating', 'errorprocessing', ''\n+        'shuttingdown', 'activating', 'deactivating', 'errorprocessing'\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nupdating README.md see https://github.com/micro-ROS/micro-ROS.github.io/pull/356 and https://github.com/micro-ROS/micro-ROS.github.io/pull/357\n\nDiff:\n-## Table of Contents\n+## Table of contents\n-[Overview](#overview)\n+*   [Introduction](#introduction)\n-[RCLC-Executor](#rclc-executor)\n-  * [Requirement Analysis](#requirement-analysis)\n-    * [Real-time embedded application use-case](#real-time-embedded-application-use-case)\n-    * [Sense-plan-act pipeline in mobile robotics](#sense-plan-act-pipeline-in-mobile-robotics)\n+*   [Analysis of rclcpp standard Executor](#analysis-of-rclcpp-standard-executor)\n+    * [Architecture](#architecture)\n+    * [Scheduling Semantics](#scheduling-semantics)\n+\n+*   [Analysis of processing patterns](#analysis-of-processing-patterns)\n+    * [Sense-plan-act pipeline in robotics](#sense-plan-act-pipeline-in-robotics)\n-  * [Features](#features)\n-    * [Sequential execution](#sequential-execution)\n-    * [Trigger condition](#trigger-condition)\n-    * [LET-Semantics](#let-semantics)\n-  * [Executor API](#executor-api)\n-    * [Configuration](#configuration-phase)\n-    * [Running](#running-phase)\n-    * [Clean-Up](#clean-up)\n-  * [Examples RCLC-Executor](#examples-rclc-executor)\n-    * [Example real-time embedded application use-case](#example-real-time-embedded-application-use-case)\n-    * [Example sense-plan-act pipeline in mobile robotics](#example-sense-plan-act-pipeline-in-mobile-robotics)\n... [truncated] ...\n-## Example RCLC-Executor with convenience functions\n+* [SLD2021]<a name=\"SLD2021\"></a> J. Staschulat, R. Lange and D. N. Dasari, \"Budget-based real-time Executor for Micro-ROS\", arXiv Pre-Print, May 2021. [[paper](https://arxiv.org/abs/2105.05590)] \n+\n+* [L2020]<a name=\"L2020\"></a> Ralph Lange: Advanced Execution Management with ROS 2, ROS-Industrial Conference, Dec 2020 [[Slides]](https://micro-ros.github.io/download/2020-12-16_Advanced_Execution_Management_with_ROS_2.pdf)\n+\n+* [SLL2020]<a name=\"SLL2020\"></a> J. Staschulat, I. L\u251c\u255dtkebohle and R. Lange, \"The rclc Executor: Domain-specific deterministic scheduling mechanisms for ROS applications on microcontrollers: work-in-progress,\" 2020 International Conference on Embedded Software (EMSOFT), Singapore, Singapore, 2020, pp. 18-19. [[Paper]](https://ieeexplore.ieee.org/document/9244014) [[Video]](https://whova.com/embedded/session/eswe_202009/1145800/)\n+\n+* [CB2019]<a name=\"CB2019\"> </a> D. Casini, T. Bla\u251c\u0192, I. L\u251c\u255dtkebohle, B. Brandenburg: Response-Time Analysis of ROS 2 Processing Chains under Reservation-Based Scheduling, in Euromicro-Conference on Real-Time Systems 2019. [[Paper]](http://drops.dagstuhl.de/opus/volltexte/2019/10743/) [[slides]](https://t-blass.de/talks/ECRTS2019.pdf)\n+\n+* [L2018]<a name=\"L2018\"></a> Ralph Lange: Callback-group-level Executor for ROS 2. Lightning talk at ROSCon 2018. Madrid, Spain. Sep 2018. [[Slides]](https://roscon.ros.org/2018/presentations/ROSCon2018_Lightning1_4.pdf) [[Video]](https://vimeo.com/292707644)\n+\n+* [EK2018]<a name=\"EK2018\"></a> R. Ernst, S. Kuntz, S. Quinton, M. Simons: The Logical Execution Time Paradigm: New Perspectives for Multicore Systems, February 25-28 2018 (Dagstuhl Seminar 18092). [[Paper]](http://drops.dagstuhl.de/opus/volltexte/2018/9293/pdf/dagrep_v008_i002_p122_18092.pdf)\n+\n+* [NSP2018]<a name=\"NSP2018\"></a> A. Naderlinger, S. Resmerita, and W. Pree: LET for Legacy and Model-based Applications,\n+Proceedings of The Logical Execution Time Paradigm: New Perspectives for Multicore Systems (Dagstuhl Seminar 18092), Wadern, Germany, February 2018.\n+\n+* [BP2017]<a name=\"BP2017\"></a> A. Biondi, P. Pazzaglia, A. Balsini,  M. D. Natale: Logical Execution Time Implementation and Memory Optimization Issues in AUTOSAR Applications for Multicores, International Worshop on Analysis Tools and Methodologies for Embedded and Real-Time Systems (WATERS2017), Dubrovnik, Croatia.[[Paper]](https://pdfs.semanticscholar.org/4a9e/b9a616c25fd0b4a4f7810924e73eee0e7515.pdf)\n+\n+* [KZH2015]<a name=\"KZH2015\"></a> S. Kramer, D. Ziegenbein, and A. Hamann: Real World Automotive Benchmarks For Free, International Workshop on Analysis Tools and Methodologies for Embedded adn Real-Time Sysems (WATERS), 2015.\n+\n+* [HHK2001]<a name=\"HHK2001\"></a> Henzinger T.A., Horowitz B., Kirsch C.M. (2001) Giotto: A Time-Triggered Language for Embedded Programming. In: Henzinger T.A., Kirsch C.M. (eds) Embedded Software. EMSOFT 2001. Lecture Notes in Computer Science, vol 2211. Springer, Berlin, Heidelberg\n-An example, how to use the LET Executor with rclc convenience functions is given in the file\n-`example_executor_convenience.c` in the package:\n-[rclc_examples](../rclc_examples).\n+* [LL1973]<a name=\"LL1973\"></a> Liu, C. L.; Layland, J.:Scheduling algorithms for multiprogramming in a hard real-time environment, Journal of the ACM, 20 (1): 46\u0393\u00c7\u00f461, 1973.\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nCreate new messages with all fields needed to define a velocity and transform it  (#240)\n\nDiff:\n+  \"msg/VelocityStamped.msg\"\n+# This expresses the timestamped velocity vector of a frame 'body_frame_id' in the reference frame 'reference_frame_id' expressed from arbitrary observation frame 'header.frame_id'.\n+# - If the 'body_frame_id' and 'header.frame_id' are identical, the velocity is observed and defined in the local coordinates system of the body\n+#   which is the usual use-case in mobile robotics and is also known as a body twist.\n+\n+std_msgs/Header header\n+string body_frame_id\n+string reference_frame_id\n+Twist velocity\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix tf2_geometry_msgs_INCLUDE_DIRS. (#729)\n\nDiff:\n+ament_export_include_directories(\"include/${PROJECT_NAME}\")\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nWaitable should check callback_group if it can be executed. (#1001)\n\nDiff:\n-                            handler = self._make_handler(\n-                                wt, node, lambda e: (e.take_data(), ), self._execute_waitable)\n-                            yielded_work = True\n-                            yield handler, wt, node\n+                            if wt.callback_group.can_execute(wt):\n+                                handler = self._make_handler(\n+                                    wt, node, lambda e: (e.take_data(), ), self._execute_waitable)\n+                                yielded_work = True\n+                                yield handler, wt, node\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAccount for alignment on `is_plain` calculations (#108)\n\nDiff:\n+  size_t last_member_size = 0;\n+  (void)last_member_size;\n+@{\n+last_member_name_ = None\n+}@\n+@{\n+last_member_name_ = member.name\n+}@\n+    last_member_size = array_size * sizeof(uint8_t);\n+    last_member_size = array_size * sizeof(uint16_t);\n+    last_member_size = array_size * sizeof(uint32_t);\n+    last_member_size = array_size * sizeof(uint64_t);\n+    last_member_size = array_size * sizeof(long double);\n+    last_member_size = 0;\n-      current_alignment +=\n+      size_t inner_size;\n+      inner_size =\n+      last_member_size += inner_size;\n+      current_alignment += inner_size;\n-  return current_alignment - initial_alignment;\n+  size_t ret_val = current_alignment - initial_alignment;\n+@[if last_member_name_ is not None]@\n+  if (is_plain) {\n+    // All members are plain, and type is not empty.\n+    // We still need to check that the in-memory alignment\n... [truncated] ...\n+    last_member_size = array_size * sizeof(uint32_t);\n+    last_member_size = array_size * sizeof(uint64_t);\n+    last_member_size = array_size * sizeof(long double);\n+    last_member_size = 0;\n-      current_alignment +=\n+      size_t inner_size =\n+      last_member_size += inner_size;\n+      current_alignment += inner_size;\n-  return current_alignment - initial_alignment;\n+  size_t ret_val = current_alignment - initial_alignment;\n+@[if last_member_name_ is not None]@\n+  if (is_plain) {\n+    // All members are plain, and type is not empty.\n+    // We still need to check that the in-memory alignment\n+    // is the same as the CDR mandated alignment.\n+    using DataType = @('::'.join([package_name] + list(interface_path.parents[0].parts) + [message.structure.namespaced_type.name]));\n+    is_plain =\n+      (\n+      offsetof(DataType, @(last_member_name_)) +\n+      last_member_size\n+      ) == ret_val;\n+  }\n+\n+@[end if]@\n+  return ret_val;\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFixed doxygen warnings (#1163)\n\nSigned-off-by: ahcorde <ahcorde@gmail.com>\n\nDiff:\n-   * \\param pre_callback. Must be non-throwing\n-   * \\param post_callback. Must be non-throwing.\n-   * \\param threshold. Callbacks will be triggered if the time jump is greater\n+   * \\param pre_callback Must be non-throwing\n+   * \\param post_callback Must be non-throwing.\n+   * \\param threshold Callbacks will be triggered if the time jump is greater\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix buffer overflow in argument parsing caused by lexer returning length beyond length of string (#979)\n\nDiff:\n+ * It will never be longer than the length of the string.\n-    // Move the lexer to another character in the string\n-      // Go forwards 1 char\n-      ++(*length);\n+      if ('\\0' != current_char) {\n+        // Go forwards 1 char as long as the end hasn't been reached\n+        ++(*length);\n+      }\n+  if (RCL_LEXEME_NONE == *next_type1 || RCL_LEXEME_EOF == *next_type1) {\n+    // No need to peek further\n+    *next_type2 = *next_type1;\n+    return ret;\n+  }\n+\n-    std::string actual_text(text, length); \\\n+    std::string actual_text(text, 0u, length); \\\n+    EXPECT_EQ(length, actual_text.size()); \\\n+TEST_F(CLASSNAME(TestLexerLookaheadFixture, RMW_IMPLEMENTATION), test_peek2_no_lexeme)\n+{\n+  rcl_ret_t ret;\n+  rcl_lexer_lookahead2_t buffer;\n+  SCOPE_LOOKAHEAD2(buffer, \"~foo\");\n+\n+  rcl_lexeme_t lexeme1 = RCL_LEXEME_NONE;\n+  rcl_lexeme_t lexeme2 = RCL_LEXEME_NONE;\n... [truncated] ...\n+\n+  rcl_lexeme_t lexeme1 = RCL_LEXEME_NONE;\n+  rcl_lexeme_t lexeme2 = RCL_LEXEME_NONE;\n+\n+  ret = rcl_lexer_lookahead2_peek2(&buffer, &lexeme1, &lexeme2);\n+  EXPECT_EQ(RCL_RET_OK, ret) << rcl_get_error_string().str;\n+  EXPECT_EQ(RCL_LEXEME_NONE, lexeme1);\n+  EXPECT_EQ(RCL_LEXEME_NONE, lexeme2);\n+}\n+\n+TEST_F(CLASSNAME(TestLexerLookaheadFixture, RMW_IMPLEMENTATION), test_peek2_eof)\n+{\n+  rcl_ret_t ret;\n+  rcl_lexer_lookahead2_t buffer;\n+  SCOPE_LOOKAHEAD2(buffer, \"\");\n+\n+  rcl_lexeme_t lexeme1 = RCL_LEXEME_NONE;\n+  rcl_lexeme_t lexeme2 = RCL_LEXEME_NONE;\n+\n+  ret = rcl_lexer_lookahead2_peek2(&buffer, &lexeme1, &lexeme2);\n+  EXPECT_EQ(RCL_RET_OK, ret) << rcl_get_error_string().str;\n+  EXPECT_EQ(RCL_LEXEME_EOF, lexeme1);\n+  EXPECT_EQ(RCL_LEXEME_EOF, lexeme2);\n+}\n+\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd stream operator for paths to make it easier to log (#120)\n\nDiff:\n+/**\n+* \\brief Convert the path to a string for ostream usage, such as in logging or string formatting.\n+*\n+* \\param os The stream to send the path string to\n+* \\param p The path to stringify\n+* \\return The ostream, for chaining\n+*/\n+RCPPUTILS_PUBLIC std::ostream & operator<<(std::ostream & os, const path & p);\n+\n+std::ostream & operator<<(std::ostream & os, const path & p)\n+{\n+  os << p.string();\n+  return os;\n+}\n+\n+\n+TEST(TestFilesystemHelper, stream_operator)\n+{\n+  path p{\"foo\"};\n+  std::stringstream s;\n+  s << \"bar\" << p;\n+  ASSERT_EQ(s.str(), \"barfoo\");\n+}\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nRemove deprecated functions benchmark tests (#122)\n\nDiff:\n-  add_performance_test(benchmark_string_conversions test/benchmark/benchmark_string_conversions.cpp)\n-  if(TARGET benchmark_string_conversions)\n-    target_link_libraries(benchmark_string_conversions ${PROJECT_NAME})\n-  endif()\n-\n-// Copyright 2020 Open Source Robotics Foundation, Inc.\n-//\n-// Licensed under the Apache License, Version 2.0 (the \"License\");\n-// you may not use this file except in compliance with the License.\n-// You may obtain a copy of the License at\n-//\n-//     http://www.apache.org/licenses/LICENSE-2.0\n-//\n-// Unless required by applicable law or agreed to in writing, software\n-// distributed under the License is distributed on an \"AS IS\" BASIS,\n-// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-// See the License for the specific language governing permissions and\n-// limitations under the License.\n-\n-#include <string>\n-\n-#include \"fastcdr/Cdr.h\"\n-#include \"rcutils/macros.h\"\n-\n-#include \"rosidl_runtime_c/string_functions.h\"\n... [truncated] ...\n-    RCUTILS_UNUSED(_);\n-    std::u16string u16string;\n-    cdr.reset();\n-    rosidl_typesupport_fastrtps_cpp::cdr_deserialize(cdr, u16string);\n-  }\n-}\n-\n-BENCHMARK_F(PerformanceTest, u16string_to_wstring)(benchmark::State & st)\n-{\n-  namespace fastcdr = eprosima::fastcdr;\n-\n-  std::u16string u16string(kSize, '*');\n-  char raw_buffer[kSize * 4 + 4];  // 4 bytes per character + 4 bytes for the length\n-  fastcdr::FastBuffer buffer(raw_buffer, sizeof(raw_buffer));\n-  fastcdr::Cdr cdr(buffer, fastcdr::Cdr::DEFAULT_ENDIAN, fastcdr::CdrVersion::XCDRv1);\n-  cdr.set_encoding_flag(fastcdr::EncodingAlgorithmFlag::PLAIN_CDR);\n-\n-  reset_heap_counters();\n-\n-  for (auto _ : st) {\n-    RCUTILS_UNUSED(_);\n-    cdr.reset();\n-    rosidl_typesupport_fastrtps_cpp::cdr_serialize(cdr, u16string);\n-  }\n-}\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nEnhanced rpc with sampleinfoex\n\nDiff:\n-  uint64_t guid_temp = 0;\n+  uint8_t client_guid[16] = {0};\n-  // Random values are required for GUID\n-  std::random_device rd;\n-  std::default_random_engine dre(rd());\n-  std::uniform_int_distribution<uint64_t> uniform_dist(\n-    (std::numeric_limits<uint64_t>::min)(),\n-    (std::numeric_limits<uint64_t>::max)());\n-\n-  guid_temp = uniform_dist(dre);\n-  memcpy(client_info->writer_guid, &guid_temp, sizeof(guid_temp));\n-  guid_temp = uniform_dist(dre);\n-  memcpy(client_info->writer_guid + sizeof(guid_temp), &guid_temp, sizeof(guid_temp));\n+  dds_DataWriter_get_guid(request_writer, client_guid);\n+  memcpy(client_info->writer_guid, client_guid, sizeof(client_guid));\n+  const char * env_name = \"RMW_GURUMDDS_REQUEST_REPLY_MAPPING\";\n+  char * env_value = nullptr;\n+  bool service_mapping_basic = false;\n+\n+  env_value = getenv(env_name);\n+  if (env_value != nullptr) {\n+    service_mapping_basic = (strcmp(env_value, \"basic\") == 0);\n+  }\n+\n-  void * dds_request = allocate_request(\n... [truncated] ...\n+ros_guid_to_dds_guid(int8_t * guid_ros, int8_t * guid_dds)\n+{\n+  memcpy(guid_dds, guid_ros, 12);\n+  memcpy(&guid_dds[12], &guid_ros[12], 4);\n+}\n+\n+inline void\n+dds_guid_to_ros_guid(int8_t * guid_dds, int8_t * guid_ros)\n+{\n+  memcpy(guid_ros, guid_dds, 12);\n+  memcpy(&guid_ros[12], &guid_dds[12], 4);\n+}\n+\n+inline void\n+ros_sn_to_dds_sn(int64_t sn_ros, uint64_t * sn_dds)\n+{\n+  *sn_dds = ((sn_ros) & 0xFFFFFFFF00000000LL) >> 32;\n+  *sn_dds = *sn_dds | ((sn_ros & 0x00000000FFFFFFFFLL) << 32);\n+}\n+\n+inline void\n+dds_sn_to_ros_sn(uint64_t sn_dds, int64_t * sn_ros)\n+{\n+  *sn_ros = ((sn_dds & 0x00000000FFFFFFFF) << 32) | ((sn_dds & 0xFFFFFFFF00000000) >> 32);\n+}\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd maintainer\n\nDiff:\n+  <maintainer email=\"donghee@gurum.cc\">Donghee Lee</maintainer>\n+  <maintainer email=\"donghee@gurum.cc\">Donghee Lee</maintainer>\n+  <maintainer email=\"donghee@gurum.cc\">Donghee Lee</maintainer>\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix rclcpp test(test_serialized_message) failure\n\nDiff:\n+    serialized_message->buffer_capacity = size;\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nExample real-time concurreny timer and subscription (#329)\n\nDiff:\n+add_executable(example_short_timer_long_subscription src/example_short_timer_long_subscription.c)\n+ament_target_dependencies(example_short_timer_long_subscription rcl rclc std_msgs)\n+\n+  example_short_timer_long_subscription\n+- [example_short_timer_long_subscription.c](src/example_client_node.c) demo with high frequency timer and subscription with long processing time with one executor.\n+## Example real-time concurrency slow timer and long subscription\n+This example demonstrates what happens, if a high frequency timer (every 100ms) and\n+a subscription with a long processing time is managed by one executor. This demo shows,\n+that the timer events are dropped during the long processing time of the subscription and are also not caught-up when there would be sufficient time. \n+// Copyright (c) 2020 - for information on the respective copyright owner\n+// see the NOTICE file and/or the repository https://github.com/ros2/rclc.\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//     http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+#include <stdio.h>\n... [truncated] ...\n+  rclc_executor_add_timer(&executor, &short_timer);\n+  if (rc != RCL_RET_OK) {\n+    printf(\"Error in rclc_executor_add_timer.\\n\");\n+  }\n+\n+  rclc_executor_spin(&executor);\n+\n+\n+  // clean up\n+  rc = rclc_executor_fini(&executor);\n+  rc += rcl_publisher_fini(&my_pub, &my_node);\n+  rc += rcl_timer_fini(&my_timer);\n+  rc += rcl_subscription_fini(&my_sub, &my_node);\n+  rc += rcl_node_fini(&my_node);\n+  rc += rclc_support_fini(&support);\n+\n+  std_msgs__msg__Int32__fini(&pub_msg);\n+  std_msgs__msg__Int32__fini(&sub_msg);\n+\n+  if (rc != RCL_RET_OK) {\n+    printf(\"Error while cleaning up!\\n\");\n+    return -1;\n+  }\n+  return 0;\n+}\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nchangelogs\n\nDiff:\n+Forthcoming\n+-----------\n+\n+Forthcoming\n+-----------\n+* Updated a hack to avoid CMake warning with assimp 5.0.1 and older, applying it cross platforms (`#565 <https://github.com/ros2/rviz/issues/565>`_)\n+* Contributors: Dirk Thomas\n+\n+Forthcoming\n+-----------\n+* Changed to not install test header files in rviz_rendering. (`#564 <https://github.com/ros2/rviz/issues/564>`_)\n+* Fixed alphabetical include order (`#563 <https://github.com/ros2/rviz/issues/563>`_)\n+* Changed to avoid trying to moc generate ``env_config.hpp`` file. (`#550 <https://github.com/ros2/rviz/issues/550>`_)\n+* Contributors: Chris Lalancette, Karsten Knese\n+\n+Forthcoming\n+-----------\n+* Changed to not install test header files in rviz_rendering. (`#564 <https://github.com/ros2/rviz/issues/564>`_)\n+* Changed to use a dedicated TransformListener thread. (`#551 <https://github.com/ros2/rviz/issues/551>`_)\n+* Suppressed warnings when building with older Qt versions. (`#562 <https://github.com/ros2/rviz/issues/562>`_)\n+* Restored compatibility with older Qt versions (`#561 <https://github.com/ros2/rviz/issues/561>`_)\n+* Contributors: Chris Lalancette, Dirk Thomas, ymd-stella\n+\n+Forthcoming\n+-----------\n+\n+Forthcoming\n+-----------\n+* Changed to not install test header files in rviz_rendering. (`#564 <https://github.com/ros2/rviz/issues/564>`_)\n+* Contributors: Chris Lalancette\n+\n+Forthcoming\n+-----------\n+* Changed to not install test header files in rviz_rendering. (`#564 <https://github.com/ros2/rviz/issues/564>`_)\n+* Contributors: Chris Lalancette\n+\n+Forthcoming\n+-----------\n+\n\nLabel:"}, {"role": "assistant", "content": "Documentation"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nPrevent rviz_rendering::AssimpLoader from loading materials twice. (#622)\n\nDiff:\n-    Ogre::MaterialPtr mat = Ogre::MaterialManager::getSingleton().create(\n+    auto result = Ogre::MaterialManager::getSingleton().createOrRetrieve(\n+    Ogre::MaterialPtr mat = std::static_pointer_cast<Ogre::Material>(result.first);\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nDon't pass screw_display.hpp to the moc generator. (#1018)\n\nDiff:\n-  include/rviz_default_plugins/displays/screw/screw_display.hpp\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nTestClient.test_service_timestamps failing consistently. (#1364)\n\nDiff:\n-                if result is not None:\n+                if result != (None, None):\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix destruction order in lifecycle benchmark (#1675)\n\nDiff:\n-    lifecycle_node.reset();\n+    executor.reset();\n+    lifecycle_node.reset();\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nMake resource file paths relative (#862)\n\nDiff:\n-      ${Patch_EXECUTABLE} -p1 -N < ${CMAKE_CURRENT_SOURCE_DIR}/fix-arm64.diff\n+      ${Patch_EXECUTABLE} -p1 -N < ${CMAKE_CURRENT_SOURCE_DIR}/fix-arm64.diff &&\n+      ${Patch_EXECUTABLE} -p1 -N < ${CMAKE_CURRENT_SOURCE_DIR}/relocatable.patch\n+diff -uNr a/CMake/InstallResources.cmake b/CMake/InstallResources.cmake\n+--- a/CMake/InstallResources.cmake\t2022-05-09 17:30:13.273565553 -0700\n+@@ -59,6 +59,20 @@\n+   endif()\n+ endif()\n+ \n++# ensure installation is relocatable\n++if (IS_ABSOLUTE \"${OGRE_MEDIA_DIR_REL}\")\n++  file(RELATIVE_PATH OGRE_MEDIA_DIR_REL \"${CMAKE_INSTALL_PREFIX}/${OGRE_CFG_INSTALL_PATH}\" \"${OGRE_MEDIA_DIR_REL}\")\n++endif ()\n++if (IS_ABSOLUTE \"${OGRE_TEST_MEDIA_DIR_REL}\")\n++  file(RELATIVE_PATH OGRE_TEST_MEDIA_DIR_REL \"${CMAKE_INSTALL_PREFIX}/${OGRE_CFG_INSTALL_PATH}\" \"${OGRE_TEST_MEDIA_DIR_REL}\")\n++endif ()\n++if (IS_ABSOLUTE \"${OGRE_PLUGIN_DIR_REL}\")\n++  file(RELATIVE_PATH OGRE_PLUGIN_DIR_REL \"${CMAKE_INSTALL_PREFIX}/${OGRE_CFG_INSTALL_PATH}\" \"${OGRE_PLUGIN_DIR_REL}\")\n++endif ()\n++if (IS_ABSOLUTE \"${OGRE_SAMPLES_DIR_REL}\")\n++  file(RELATIVE_PATH OGRE_SAMPLES_DIR_REL \"${CMAKE_INSTALL_PREFIX}/${OGRE_CFG_INSTALL_PATH}\" \"${OGRE_SAMPLES_DIR_REL}\")\n++endif ()\n++\n+ # configure plugins.cfg\n+ if (NOT OGRE_BUILD_RENDERSYSTEM_D3D9)\n+   set(OGRE_COMMENT_RENDERSYSTEM_D3D9 \"#\")\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nDon't pass screw_display.hpp to the moc generator. (#1018)\n\nDiff:\n-  include/rviz_default_plugins/displays/screw/screw_display.hpp\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nUse unique mangled names when creating Content Filter Topics (#762)\n\nDiff:\n+#include <atomic>\n+#include <cstdint>\n-  std::string cft_topic_name = topic_name_mangled + CONTENT_FILTERED_TOPIC_POSTFIX;\n+  static std::atomic<uint32_t> cft_counter{0};\n+  std::string cft_topic_name = topic_name_mangled + CONTENT_FILTERED_TOPIC_POSTFIX + \"_\" +\n+    std::to_string(cft_counter.fetch_add(1));\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAvoid using a wildcard to specify parameters if possible (#154)\n\nDiff:\n-            # TODO(dhood): clean up generated parameter files.\n-            param_dict = {'/**': {'ros__parameters': params}}\n+            param_dict = {\n+                self.node_name if self.is_node_name_fully_specified() else '/**':\n+                {'ros__parameters': params}\n+            }\n-                '/**': {\n+                '/my_ns/my_node': {\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nrevert call shutdown in LifecycleNode destructor (#2557)\n\nDiff:\n-  auto current_state = LifecycleNode::get_current_state().id();\n-  // shutdown if necessary to avoid leaving the device in any other primary state\n-  if (current_state < lifecycle_msgs::msg::State::PRIMARY_STATE_FINALIZED) {\n-    if (node_base_->get_context()->is_valid()) {\n-      auto ret = rclcpp_lifecycle::node_interfaces::LifecycleNodeInterface::CallbackReturn::ERROR;\n-      auto finalized = LifecycleNode::shutdown(ret);\n-      if (finalized.id() != lifecycle_msgs::msg::State::PRIMARY_STATE_FINALIZED ||\n-        ret != rclcpp_lifecycle::node_interfaces::LifecycleNodeInterface::CallbackReturn::SUCCESS)\n-      {\n-        RCLCPP_WARN(\n-          rclcpp::get_logger(\"rclcpp_lifecycle\"),\n-          \"Shutdown error in destruction of LifecycleNode: final state(%s)\",\n-          finalized.label().c_str());\n-      }\n-    } else {\n-      // TODO(fujitatomoya): consider when context is gracefully shutdown before.\n-      RCLCPP_DEBUG(\n-        rclcpp::get_logger(\"rclcpp_lifecycle\"),\n-        \"Context invalid error in destruction of LifecycleNode: Node still in transition state(%u)\",\n-        current_state);\n-    }\n-  } else if (current_state > lifecycle_msgs::msg::State::PRIMARY_STATE_FINALIZED) {\n-    RCLCPP_WARN(\n-      rclcpp::get_logger(\"rclcpp_lifecycle\"),\n-      \"Shutdown error in destruction of LifecycleNode: Node still in transition state(%u)\",\n... [truncated] ...\n-  }\n-  EXPECT_TRUE(shutdown_cb_called);\n-\n-  // PRIMARY_STATE_FINALIZED to shutdown via dtor\n-  shutdown_cb_called = false;\n-  {\n-    auto ret = reset_key;\n-    auto test_node = std::make_shared<rclcpp_lifecycle::LifecycleNode>(\"testnode\");\n-    test_node->register_on_shutdown(std::bind(on_shutdown_callback, std::placeholders::_1));\n-    auto configured = test_node->configure(ret);\n-    EXPECT_EQ(success, ret);\n-    EXPECT_EQ(configured.id(), State::PRIMARY_STATE_INACTIVE);\n-    ret = reset_key;\n-    auto activated = test_node->activate(ret);\n-    EXPECT_EQ(success, ret);\n-    EXPECT_EQ(activated.id(), State::PRIMARY_STATE_ACTIVE);\n-    ret = reset_key;\n-    auto finalized = test_node->shutdown(ret);\n-    EXPECT_EQ(success, ret);\n-    EXPECT_EQ(finalized.id(), State::PRIMARY_STATE_FINALIZED);\n-    EXPECT_TRUE(shutdown_cb_called);  // should be called already\n-  }\n-  EXPECT_TRUE(shutdown_cb_called);\n-}\n-\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nremove feedback callback when the goal has been completed. (#927)\n\nDiff:\n-        self._sequence_number_to_goal_id = {}\n+        self._goal_sequence_number_to_goal_id = {}\n+        # key: result request sequence_number, value: UUID\n+        self._result_sequence_number_to_goal_id = {}\n-        if seq in self._sequence_number_to_goal_id:\n-            del self._sequence_number_to_goal_id[seq]\n+        if seq in self._goal_sequence_number_to_goal_id:\n+            del self._goal_sequence_number_to_goal_id[seq]\n-        self._remove_pending_request(future, self._pending_result_requests)\n+        seq = self._remove_pending_request(future, self._pending_result_requests)\n+        if seq in self._result_sequence_number_to_goal_id:\n+            goal_uuid = bytes(self._result_sequence_number_to_goal_id[seq].uuid)\n+            del self._result_sequence_number_to_goal_id[seq]\n+            # remove feeback_callback if user is aware of result and it's been received\n+            if goal_uuid in self._feedback_callbacks:\n+                del self._feedback_callbacks[goal_uuid]\n-            if sequence_number in self._sequence_number_to_goal_id:\n+            if sequence_number in self._goal_sequence_number_to_goal_id:\n-                    self._sequence_number_to_goal_id[sequence_number],\n+                    self._goal_sequence_number_to_goal_id[sequence_number],\n-        self._sequence_number_to_goal_id[sequence_number] = request.goal_id\n+        self._goal_sequence_number_to_goal_id[sequence_number] = request.goal_id\n+        self._result_sequence_number_to_goal_id[sequence_number] = result_request.goal_id\n+    def test_send_goal_async_with_feedback_after_goal_result_requested(self):\n+        ac = ActionClient(self.node, Fibonacci, 'fibonacci')\n+        try:\n+            self.assertTrue(ac.wait_for_server(timeout_sec=2.0))\n+\n+            # Send a goal and wait for completion\n+            goal_uuid = UUID(uuid=list(uuid.uuid4().bytes))\n+            goal_future = ac.send_goal_async(\n+                Fibonacci.Goal(),\n+                feedback_callback=self.feedback_callback,\n+                goal_uuid=goal_uuid)\n+            rclpy.spin_until_future_complete(self.node, goal_future, self.executor)\n+            self.assertTrue(goal_future.done())\n+            # Then request result\n+            goal_handle = goal_future.result()\n+            result_future = goal_handle.get_result_async()\n+            rclpy.spin_until_future_complete(self.node, result_future, self.executor)\n+            self.assertTrue(result_future.done())\n+\n+            # Publish feedback after goal result is requested\n+            self.mock_action_server.publish_feedback(goal_uuid)\n+            self.timed_spin(1.0)\n+            self.assertEqual(self.feedback, None)\n+        finally:\n+            ac.destroy()\n+\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nUpdated rmw_* return codes (#246)\n\nDiff:\n-  return RMW_RET_ERROR;\n+  return RMW_RET_UNSUPPORTED;\n-  return RMW_RET_ERROR;\n+  return RMW_RET_UNSUPPORTED;\n-  return RMW_RET_ERROR;\n+  return RMW_RET_UNSUPPORTED;\n-  return RMW_RET_ERROR;\n+  return RMW_RET_UNSUPPORTED;\n-  (void)context;\n+  RMW_CHECK_ARGUMENT_FOR_NULL(context, nullptr);\n-  RET_NULL(wait_set);\n+  RET_NULL_X(wait_set, return RMW_RET_INVALID_ARGUMENT);\n+  RET_WRONG_IMPLID(wait_set);\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nExtend timeout to shutdown the command line process. (#783)\n\nDiff:\n-                assert command.wait_for_shutdown(timeout=1)\n+                assert command.wait_for_shutdown(timeout=5)\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nMakes topic_name a const ref\n\nDiff:\n-void set_error_message_from_create_topic(dds_entity_t topic, std::string topic_name)\n+void set_error_message_from_create_topic(dds_entity_t topic, const std::string & topic_name)\n-    std::string error_msg = \"failed to create topic [\" + topic_name +\n+    const std::string error_msg = \"failed to create topic [\" + topic_name +\n-    std::string error_msg = \"failed to create topic [\" + topic_name +\n+    const std::string error_msg = \"failed to create topic [\" + topic_name +\n-    std::string error_msg = \"failed to create topic [\" + topic_name +\n+    const std::string error_msg = \"failed to create topic [\" + topic_name +\n-    std::string error_msg = \"failed to create topic [\" + topic_name + \"] for unknown reasons\";\n+    const std::string error_msg = \"failed to create topic [\" + topic_name + \"] for unknown reasons\";\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix #983 by saving future and checking for + raising any exceptions (#1073)\n\nDiff:\n+        self._futures = []\n+            self._futures.append(handler)\n+            for future in self._futures:  # check for any exceptions\n+                if future.done():\n+                    self._futures.remove(future)\n+                    future.result()\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nChange docstring markdown code blocks to RST (#450)\n\nDiff:\n-    e.g.:\n-    ```python3\n+\n+    For example:\n+\n+    .. code-block:: python\n+\n-                    Node(...),  // the param will be passed to this node\n+                    Node(...),  # the param will be passed to this node\n-            Node(...),  // here it won't be passed, as it's not in the same scope\n+            Node(...),  # here it won't be passed, as it's not in the same scope\n-    ```\n-    e.g.\n-    ```python3\n+    For example:\n+\n+    .. code-block:: python\n+\n-                    Node(...),  // the params will be passed to this node\n+                    Node(...),  # the params will be passed to this node\n-            Node(...),  // here it won't be passed, as it's not in the same scope\n+            Node(...),  # here it won't be passed, as it's not in the same scope\n-    ```\n-    ```xml\n-    <launch>\n... [truncated] ...\n+    For example:\n-    ```python3\n-    combined_ns = prefix_namespace('my_ns', 'original_ns')\n-    assert combined_ns == 'my_ns/original_ns'\n+    .. code-block:: python\n-    combined_ns = prefix_namespace('/my_ns', 'original_ns')\n-    assert combined_ns == '/my_ns/original_ns'\n+        combined_ns = prefix_namespace('my_ns', 'original_ns')\n+        assert combined_ns == 'my_ns/original_ns'\n-    combined_ns = prefix_namespace('my_ns', '/original_ns')\n-    assert combined_ns == '/original_ns'\n+        combined_ns = prefix_namespace('/my_ns', 'original_ns')\n+        assert combined_ns == '/my_ns/original_ns'\n-    combined_ns = prefix_namespace(None, 'original_ns')\n-    assert combined_ns == 'original_ns'\n+        combined_ns = prefix_namespace('my_ns', '/original_ns')\n+        assert combined_ns == '/original_ns'\n-    combined_ns = prefix_namespace('my_ns', None)\n-    assert combined_ns == 'my_ns'\n-    ```\n+        combined_ns = prefix_namespace(None, 'original_ns')\n+        assert combined_ns == 'original_ns'\n+\n+        combined_ns = prefix_namespace('my_ns', None)\n+        assert combined_ns == 'my_ns'\n\nLabel:"}, {"role": "assistant", "content": "Documentation"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nChange syntax __VAR_ARGS__ to __VA_ARGS__ (#376)\n\nDiff:\n-#define my__has_feature(...) __has_feature(__VAR_ARGS__)\n+#define my__has_feature __has_feature\n-#define my__has_feature(...) 0\n+#define my__has_feature(x) 0\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdded build status of bloom-releases for Humble distribution (#291)\n\nDiff:\n-Bloom release status of rclc packages in [github.com/ros2/rclc/](https://github.com/ros2/rclc) for amd64 and arm64 architectures and ROS 2 distributions Foxy, Galactic and Rolling.\n+Bloom release status of the packages in [github.com/ros2/rclc/](https://github.com/ros2/rclc) for amd64 and arm64 architectures and ROS 2 distributions Foxy, Galactic, Humble and Rolling.\n-| [rclc](https://github.com/ros2/rclc/tree/master/rclc) | Foxy | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Fpr__rclc__ubuntu_focal_amd64)](https://build.ros2.org/job/Fpr__rclc__ubuntu_focal_amd64/) | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Fbin_ubv8_uFv8__rclc__ubuntu_focal_arm64__binary)](https://build.ros2.org/job/Fbin_ubv8_uFv8__rclc__ubuntu_focal_arm64__binary/) | \n-| | Galactic | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Gpr__rclc__ubuntu_focal_amd64)](https://build.ros2.org/job/Gpr__rclc__ubuntu_focal_amd64/) | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Gbin_ufv8_uFv8__rclc__ubuntu_focal_arm64__binary)](https://build.ros2.org/job/Gbin_ufv8_uFv8__rclc__ubuntu_focal_arm64__binary/) | \n-| | Rolling| [![Build Status](https://build.ros2.org/buildStatus/icon?job=Rpr__rclc__ubuntu_jammy_amd64)](https://build.ros2.org/job/Rpr__rclc__ubuntu_jammy_amd64/) | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Rbin_ujv8_uJv8__rclc__ubuntu_jammy_arm64__binary)](https://build.ros2.org/job/Rbin_ujv8_uJv8__rclc__ubuntu_jammy_arm64__binary/) |\n+| [rclc](https://github.com/ros2/rclc/tree/master/rclc) | Foxy | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Fbin_uF64__rclc__ubuntu_focal_amd64__binary)](https://build.ros2.org/job/Fbin_uF64__rclc__ubuntu_focal_amd64__binary/) | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Fbin_ubv8_uFv8__rclc__ubuntu_focal_arm64__binary)](https://build.ros2.org/job/Fbin_ubv8_uFv8__rclc__ubuntu_focal_arm64__binary/) |\n+| | Galactic | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Gbin_uF64__rclc__ubuntu_focal_amd64__binary)](https://build.ros2.org/job/Gbin_uF64__rclc__ubuntu_focal_amd64__binary/) | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Gbin_ufv8_uFv8__rclc__ubuntu_focal_arm64__binary)](https://build.ros2.org/job/Gbin_ufv8_uFv8__rclc__ubuntu_focal_arm64__binary/) |\n+| | Humble | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Hbin_uJ64__rclc__ubuntu_jammy_amd64__binary)](https://build.ros2.org/job/Hbin_uJ64__rclc__ubuntu_jammy_amd64__binary/) | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Hbin_ujv8_uJv8__rclc__ubuntu_jammy_arm64__binary)](https://build.ros2.org/job/Hbin_ujv8_uJv8__rclc__ubuntu_jammy_arm64__binary/) |\n+| | Rolling| [![Build Status](https://build.ros2.org/buildStatus/icon?job=Rbin_uJ64__rclc__ubuntu_jammy_amd64__binary)](https://build.ros2.org/job/Rbin_uJ64__rclc__ubuntu_jammy_amd64__binary/) | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Rbin_ujv8_uJv8__rclc__ubuntu_jammy_arm64__binary)](https://build.ros2.org/job/Rbin_ujv8_uJv8__rclc__ubuntu_jammy_arm64__binary/) |\n+| | Humble | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Hbin_uJ64__rclc_examples__ubuntu_jammy_amd64__binary)](https://build.ros2.org/job/Hbin_uJ64__rclc_examples__ubuntu_jammy_amd64__binary/) |  [![Build Status](https://build.ros2.org/buildStatus/icon?job=Hbin_ujv8_uJv8__rclc_examples__ubuntu_jammy_arm64__binary)](https://build.ros2.org/job/Hbin_ujv8_uJv8__rclc_examples__ubuntu_jammy_arm64__binary/) |\n+| | Humble | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Hbin_uJ64__rclc_lifecycle__ubuntu_jammy_amd64__binary)](https://build.ros2.org/job/Hbin_uJ64__rclc_lifecycle__ubuntu_jammy_amd64__binary/)|  [![Build Status](https://build.ros2.org/buildStatus/icon?job=Hbin_ujv8_uJv8__rclc_lifecycle__ubuntu_jammy_arm64__binary)](https://build.ros2.org/job/Hbin_ujv8_uJv8__rclc_lifecycle__ubuntu_jammy_arm64__binary/) |\n+| | Humble | [![Build Status](https://build.ros2.org/buildStatus/icon?job=Hbin_uJ64__rclc_parameter__ubuntu_jammy_amd64__binary)](https://build.ros2.org/job/Hbin_uJ64__rclc_parameter__ubuntu_jammy_amd64__binary/) |  [![Build Status](https://build.ros2.org/buildStatus/icon?job=Hbin_ujv8_uJv8__rclc_parameter__ubuntu_jammy_arm64__binary)](https://build.ros2.org/job/Hbin_ujv8_uJv8__rclc_parameter__ubuntu_jammy_arm64__binary/) |\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nMakes topic_name a const ref\n\nDiff:\n-void set_error_message_from_create_topic(dds_entity_t topic, std::string topic_name)\n+void set_error_message_from_create_topic(dds_entity_t topic, const std::string & topic_name)\n-    std::string error_msg = \"failed to create topic [\" + topic_name +\n+    const std::string error_msg = \"failed to create topic [\" + topic_name +\n-    std::string error_msg = \"failed to create topic [\" + topic_name +\n+    const std::string error_msg = \"failed to create topic [\" + topic_name +\n-    std::string error_msg = \"failed to create topic [\" + topic_name +\n+    const std::string error_msg = \"failed to create topic [\" + topic_name +\n-    std::string error_msg = \"failed to create topic [\" + topic_name + \"] for unknown reasons\";\n+    const std::string error_msg = \"failed to create topic [\" + topic_name + \"] for unknown reasons\";\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nrclc_parameter: Fix rcl return values (#270)\n\nDiff:\n-  ret &= rclc_parameter_server_init_service(\n+  ret |= rclc_parameter_server_init_service(\n-  ret &= rclc_parameter_server_init_service(\n+  ret |= rclc_parameter_server_init_service(\n-  ret &= rclc_parameter_server_init_service(\n+  ret |= rclc_parameter_server_init_service(\n-  ret &= rclc_parameter_server_init_service(\n+  ret |= rclc_parameter_server_init_service(\n-  ret &= rclc_parameter_server_init_service(\n+  ret |= rclc_parameter_server_init_service(\n-    ret &= rclc_publisher_init(\n+    ret |= rclc_publisher_init(\n-  ret &= rcl_service_fini(&parameter_server->list_service, node);\n-  ret &= rcl_service_fini(&parameter_server->set_service, node);\n-  ret &= rcl_service_fini(&parameter_server->get_service, node);\n-  ret &= rcl_service_fini(&parameter_server->get_types_service, node);\n-  ret &= rcl_service_fini(&parameter_server->describe_service, node);\n+  ret |= rcl_service_fini(&parameter_server->list_service, node);\n+  ret |= rcl_service_fini(&parameter_server->set_service, node);\n+  ret |= rcl_service_fini(&parameter_server->get_service, node);\n+  ret |= rcl_service_fini(&parameter_server->get_types_service, node);\n+  ret |= rcl_service_fini(&parameter_server->describe_service, node);\n-    ret &= rcl_publisher_fini(&parameter_server->event_publisher, node);\n+    ret |= rcl_publisher_fini(&parameter_server->event_publisher, node);\n-  ret &= rclc_executor_add_service_with_context(\n+  ret |= rclc_executor_add_service_with_context(\n-  ret &= rclc_executor_add_service_with_context(\n+  ret |= rclc_executor_add_service_with_context(\n-  ret &= rclc_executor_add_service_with_context(\n+  ret |= rclc_executor_add_service_with_context(\n-  ret &= rclc_executor_add_service_with_context(\n+  ret |= rclc_executor_add_service_with_context(\n-  ret &= rcutils_system_time_now(&now);\n+  ret |= rcutils_system_time_now(&now);\n-  ret &= rcl_publish(\n+  ret |= rcl_publish(\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nupdating quality declaration links (re: ros2/docs.ros2.org#52) (#130)\n\nDiff:\n-`rcpputils` uses `semver` according to the recommendation for ROS Core packages in the [ROS 2 Developer Guide](https://index.ros.org/doc/ros2/Contributing/Developer-Guide/#versioning).\n+`rcpputils` uses `semver` according to the recommendation for ROS Core packages in the [ROS 2 Developer Guide](https://docs.ros.org/en/rolling/Contributing/Developer-Guide.html#versioning).\n-`rcpputils` follows the recommended guidelines for ROS Core packages in the [ROS 2 Developer Guide](https://index.ros.org/doc/ros2/Contributing/Developer-Guide/#package-requirements).\n+`rcpputils` follows the recommended guidelines for ROS Core packages in the [ROS 2 Developer Guide](https://docs.ros.org/en/rolling/Contributing/Developer-Guide.html#quality-practices).\n-`rcpputils` follows the recommendations for ROS Core packages in the [ROS 2 Developer Guide](https://index.ros.org/doc/ros2/Contributing/Developer-Guide/#code-coverage), and opts to use line coverage instead of branch coverage.\n+`rcpputils` follows the recommendations for ROS Core packages in the [ROS 2 Developer Guide](https://docs.ros.org/en/rolling/Contributing/Developer-Guide.html#code-coverage), and opts to use line coverage instead of branch coverage.\n-A description of how coverage statistics are summarized from this page, can be found in the [\"ROS 2 Onboarding Guide\"](https://index.ros.org/doc/ros2/Contributing/ROS-2-On-boarding-Guide/#note-on-coverage-runs).\n+A description of how coverage statistics are summarized from this page, can be found in the [\"ROS 2 Onboarding Guide\"](https://docs.ros.org/en/rolling/Contributing/Developer-Guide.html#note-on-coverage-runs).\n-`rcpputils` follows the recommendations for performance testing of C/C++ code in the [ROS 2 Developer Guide](https://index.ros.org/doc/ros2/Contributing/Developer-Guide/#performance), and opts to do performance analysis on each release rather than each change.\n+`rcpputils` follows the recommendations for performance testing of C/C++ code in the [ROS 2 Developer Guide](https://docs.ros.org/en/rolling/Contributing/Developer-Guide.html#performance), and opts to do performance analysis on each release rather than each change.\n-`rcpputils` uses and passes all the standard linters and static analysis tools for a C++ package as described in the [ROS 2 Developer Guide](https://index.ros.org/doc/ros2/Contributing/Developer-Guide/#linters).\n+`rcpputils` uses and passes all the standard linters and static analysis tools for a C++ package as described in the [ROS 2 Developer Guide](https://docs.ros.org/en/rolling/Contributing/Developer-Guide.html#linters-and-static-analysis).\n\nLabel:"}, {"role": "assistant", "content": "Documentation"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd __enter__ and __exit__ to Waitable (#761)\n\nDiff:\n-            for waitable in waitables:\n-                entity_count += waitable.get_num_entities()\n-\n+                for waitable in waitables:\n+                    try:\n+                        context_stack.enter_context(waitable)\n+                        entity_count += waitable.get_num_entities()\n+                    except InvalidHandle:\n+                        pass\n+\n+    def __enter__(self):\n+        \"\"\"Mark event as in-use to prevent destruction while waiting on it.\"\"\"\n+        self.__event.__enter__()\n+\n+    def __exit__(self, t, v, tb):\n+        \"\"\"Mark event as not-in-use to allow destruction after waiting on it.\"\"\"\n+        self.__event.__exit__(t, v, tb)\n+\n+    def __enter__(self):\n+        \"\"\"Implement to mark entities as in-use to prevent destruction while waiting on them.\"\"\"\n+        pass\n+\n+    def __exit__(self, t, v, tb):\n+        \"\"\"Implement to mark entities as not-in-use to allow destruction after waiting on them.\"\"\"\n+        pass\n+\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nDisable a Windows platform warning. (#311)\n\nDiff:\n+// When building with MSVC 19.28.29333.0 on Windows 10 (as of 2020-11-11),\n+// there appears to be a problem with winbase.h (which is included by\n+// Windows.h).  In particular, warnings of the form:\n+//\n+// warning C5105: macro expansion producing 'defined' has undefined behavior\n+//\n+// See https://developercommunity.visualstudio.com/content/problem/695656/wdk-and-sdk-are-not-compatible-with-experimentalpr.html\n+// for more information.  For now disable that warning when including windows.h\n+\n+#pragma warning(push)\n+#pragma warning(disable : 5105)\n+#pragma warning(pop)\n+// When building with MSVC 19.28.29333.0 on Windows 10 (as of 2020-11-11),\n+// there appears to be a problem with winbase.h (which is included by\n+// Windows.h).  In particular, warnings of the form:\n+//\n+// warning C5105: macro expansion producing 'defined' has undefined behavior\n+//\n+// See https://developercommunity.visualstudio.com/content/problem/695656/wdk-and-sdk-are-not-compatible-with-experimentalpr.html\n+// for more information.  For now disable that warning when including windows.h\n+#pragma warning(push)\n+#pragma warning(disable : 5105)\n+#pragma warning(pop)\n+// When building with MSVC 19.28.29333.0 on Windows 10 (as of 2020-11-11),\n+// there appears to be a problem with winbase.h (which is included by\n... [truncated] ...\n+#pragma warning(push)\n+#pragma warning(disable : 5105)\n+#pragma warning(pop)\n+// When building with MSVC 19.28.29333.0 on Windows 10 (as of 2020-11-11),\n+// there appears to be a problem with winbase.h (which is included by\n+// Windows.h).  In particular, warnings of the form:\n+//\n+// warning C5105: macro expansion producing 'defined' has undefined behavior\n+//\n+// See https://developercommunity.visualstudio.com/content/problem/695656/wdk-and-sdk-are-not-compatible-with-experimentalpr.html\n+// for more information.  For now disable that warning when including windows.h\n+#pragma warning(push)\n+#pragma warning(disable : 5105)\n+#pragma warning(pop)\n+// When building with MSVC 19.28.29333.0 on Windows 10 (as of 2020-11-11),\n+// there appears to be a problem with winbase.h (which is included by\n+// Windows.h).  In particular, warnings of the form:\n+//\n+// warning C5105: macro expansion producing 'defined' has undefined behavior\n+//\n+// See https://developercommunity.visualstudio.com/content/problem/695656/wdk-and-sdk-are-not-compatible-with-experimentalpr.html\n+// for more information.  For now disable that warning when including windows.h\n+#pragma warning(push)\n+#pragma warning(disable : 5105)\n+#pragma warning(pop)\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nComplete coverage of Parameter and ParameterValue API (#1344)\n\n* Complete coverage of Parameter and ParameterValue API\r\n\r\nSigned-off-by: Stephen Brawner <brawner@gmail.com>\r\n\r\n* Adding comments\r\n\r\nSigned-off-by: Stephen Brawner <brawner@gmail.com>\n\nDiff:\n+  std::stringstream ss;\n+  ss << not_set_variant;\n+  EXPECT_EQ(\"{\\\"name\\\": \\\"\\\", \\\"type\\\": \\\"not set\\\", \\\"value\\\": \\\"not set\\\"}\", ss.str());\n+\n+  // Check == and != operators work as expected\n+  EXPECT_EQ(not_set_variant, not_set_variant);\n+  rclcpp::Parameter not_set_variant2;\n+  EXPECT_EQ(not_set_variant, not_set_variant2);\n+  rclcpp::Parameter bool_variant(\"bool_param\", true);\n+  EXPECT_NE(not_set_variant, bool_variant);\n+  std::stringstream ss;\n+  ss << bool_variant_true;\n+  EXPECT_EQ(\"{\\\"name\\\": \\\"bool_param\\\", \\\"type\\\": \\\"bool\\\", \\\"value\\\": \\\"true\\\"}\", ss.str());\n+\n+\n+  // Check == and != operators work as expected\n+  EXPECT_EQ(bool_variant_true, bool_variant_true);\n+  EXPECT_NE(bool_variant_false, bool_variant_true);\n+  EXPECT_EQ(bool_variant_true, from_msg_true);\n+  std::stringstream ss;\n+  ss << integer_variant;\n+  EXPECT_EQ(\"{\\\"name\\\": \\\"integer_param\\\", \\\"type\\\": \\\"integer\\\", \\\"value\\\": \\\"42\\\"}\", ss.str());\n+\n+  // Check == and != operators work as expected\n+  EXPECT_EQ(integer_variant, integer_variant);\n... [truncated] ...\n+  EXPECT_EQ(string_array_variant, string_array_variant);\n+  EXPECT_NE(string_array_variant, rclcpp::Parameter(\"string_array_param\", TEST_VALUE2));\n+  EXPECT_EQ(string_array_variant, from_msg);\n+}\n+\n+TEST_F(TestParameter, parameter_vector_stringification) {\n+  const std::vector<rclcpp::Parameter> parameters = {\n+    rclcpp::Parameter(),\n+    rclcpp::Parameter(\"bool_param\", true),\n+    rclcpp::Parameter(\"integer_param\", 42),\n+    rclcpp::Parameter(\"double_param\", 3.14159),\n+    rclcpp::Parameter(\"string_param\", \"I'm a string\"),\n+  };\n+\n+  std::stringstream ss;\n+  ss << parameters;\n+  EXPECT_EQ(\n+    \"{\"\n+    \"\\\"\\\": {\\\"type\\\": \\\"not set\\\", \\\"value\\\": \\\"not set\\\"}, \"\n+    \"\\\"bool_param\\\": {\\\"type\\\": \\\"bool\\\", \\\"value\\\": \\\"true\\\"}, \"\n+    \"\\\"integer_param\\\": {\\\"type\\\": \\\"integer\\\", \\\"value\\\": \\\"42\\\"}, \"\n+    \"\\\"double_param\\\": {\\\"type\\\": \\\"double\\\", \\\"value\\\": \\\"3.141590\\\"}, \"\n+    \"\\\"string_param\\\": {\\\"type\\\": \\\"string\\\", \\\"value\\\": \\\"I'm a string\\\"}}\",\n+    ss.str());\n+}\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nMake Axes display use latest transform (#892)\n\nDiff:\n-      frame, context_->getClock()->now(), position, orientation))\n+      frame, position, orientation))\n\nLabel:"}, {"role": "assistant", "content": "NonFunctional Enhancement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd default subscriber profile (#663)\n\nDiff:\n+            <!-- Default subscriber profile -->\n+            <subscriber profile_name=\"default subscriber profile\" is_default_profile=\"true\">\n+                <historyMemoryPolicy>PREALLOCATED_WITH_REALLOC</historyMemoryPolicy>\n+            </subscriber>\n+\n\nLabel:"}, {"role": "assistant", "content": "Documentation"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nAdd test creating two content filter topics with the same topic name (#230) (#233)\n\nDiff:\n+\n+TEST_F(TestContentFilterSubscriptionUse, create_two_filters_with_same_topic_name_and_destroy) {\n+  if (sub->is_cft_enabled) {\n+    auto allocator = rcutils_get_default_allocator();\n+    rmw_subscription_options_t options = rmw_get_default_subscription_options();\n+\n+    rmw_subscription_content_filter_options_t * content_filter_options =\n+      static_cast<rmw_subscription_content_filter_options_t *>(\n+      allocator.allocate(\n+        sizeof(rmw_subscription_content_filter_options_t), allocator.state));\n+\n+    OSRF_TESTING_TOOLS_CPP_SCOPE_EXIT(\n+    {\n+      allocator.deallocate(content_filter_options, allocator.state);\n+    });\n+\n+    *content_filter_options = rmw_get_zero_initialized_content_filter_options();\n+\n+    EXPECT_EQ(\n+      RMW_RET_OK, rmw_subscription_content_filter_options_init(\n+        filter_expression,\n+        expression_parameters_count,\n+        expression_parameters,\n+        &allocator,\n+        content_filter_options));\n+\n+    OSRF_TESTING_TOOLS_CPP_SCOPE_EXIT(\n+    {\n+      EXPECT_EQ(\n+        RMW_RET_OK,\n+        rmw_subscription_content_filter_options_fini(content_filter_options, &allocator));\n+    });\n+\n+    options.content_filter_options = content_filter_options;\n+\n+    // Create another subscription with content filter in the same topic\n+    auto sub_2 = rmw_create_subscription(node, ts, topic_name, &qos_profile, &options);\n+    ASSERT_NE(nullptr, sub_2) << rmw_get_error_string().str;\n+\n+    rmw_ret_t ret = rmw_destroy_subscription(node, sub_2);\n+    EXPECT_EQ(RMW_RET_OK, ret) << rmw_get_error_string().str;\n+  }\n+}\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nCall callbacks only if unread count > 0 (#634)\n\nDiff:\n-        callback(user_data, liveliness_lost_status_.total_count_change);\n-        liveliness_lost_status_.total_count_change = 0;\n+\n+        if (liveliness_lost_status_.total_count_change > 0) {\n+          callback(user_data, liveliness_lost_status_.total_count_change);\n+          liveliness_lost_status_.total_count_change = 0;\n+        }\n-        callback(\n-          user_data,\n-          offered_deadline_missed_status_.total_count_change);\n-        offered_deadline_missed_status_.total_count_change = 0;\n+\n+        if (offered_deadline_missed_status_.total_count_change > 0) {\n+          callback(user_data, offered_deadline_missed_status_.total_count_change);\n+          offered_deadline_missed_status_.total_count_change = 0;\n+        }\n-        callback(\n-          user_data,\n-          incompatible_qos_status_.total_count_change);\n-        incompatible_qos_status_.total_count_change = 0;\n+\n+        if (incompatible_qos_status_.total_count_change > 0) {\n+          callback(user_data, incompatible_qos_status_.total_count_change);\n+          incompatible_qos_status_.total_count_change = 0;\n+        }\n... [truncated] ...\n-            requested_deadline_missed_status_.total_count_change);\n-          requested_deadline_missed_status_.total_count_change = 0;\n+\n+          if (requested_deadline_missed_status_.total_count_change > 0) {\n+            callback(user_data, requested_deadline_missed_status_.total_count_change);\n+            requested_deadline_missed_status_.total_count_change = 0;\n+          }\n-          callback(\n-            user_data,\n-            sample_lost_status_.total_count_change);\n-          sample_lost_status_.total_count_change = 0;\n+\n+          if (sample_lost_status_.total_count_change > 0) {\n+            callback(user_data, sample_lost_status_.total_count_change);\n+            sample_lost_status_.total_count_change = 0;\n+          }\n-          callback(\n-            user_data,\n-            incompatible_qos_status_.total_count_change);\n-          incompatible_qos_status_.total_count_change = 0;\n+\n+          if (incompatible_qos_status_.total_count_change > 0) {\n+            callback(user_data, incompatible_qos_status_.total_count_change);\n+            incompatible_qos_status_.total_count_change = 0;\n+          }\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nTests for LoanedMessage with mocked loaned message publisher (#1366)\n\nSigned-off-by: Stephen Brawner <brawner@gmail.com>\n\nDiff:\n-target_link_libraries(test_loaned_message ${PROJECT_NAME})\n+target_link_libraries(test_loaned_message ${PROJECT_NAME} mimick)\n\nLabel:"}, {"role": "assistant", "content": "Test"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nChange decode error mode to replace (#176)\n\nDiff:\n-      PyObject * decoded_item = PyUnicode_DecodeUTF8(src[i].data, strlen(src[i].data), \"strict\");\n+      PyObject * decoded_item = PyUnicode_DecodeUTF8(src[i].data, strlen(src[i].data), \"replace\");\n-      \"strict\");\n+      \"replace\");\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\npublish action goal status once accepted before execution. (#1228)\n\nDiff:\n+        # Publish accepted status before execution\n+        self._handle.publish_status()\n+\n\nLabel:"}, {"role": "assistant", "content": "Functional Improvement"}]}
{"messages": [{"role": "system", "content": "You are a helpful commit classifier. Given a commit message and diff, classify it into one label."}, {"role": "user", "content": "Commit message:\nFix unbounded sequence size\n\nDiff:\n-        metastring << \"<(name=\" << member->name_ << \"_,maximum=128)\";\n+        metastring << \"<(name=\" << member->name_ << \"_)\";\n\nLabel:"}, {"role": "assistant", "content": "Bug Fix"}]}
